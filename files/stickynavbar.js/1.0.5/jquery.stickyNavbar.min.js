(function(e,t,n){"use strict";e.fn.stickyNavbar=function(r){var i=e.extend({activeClass:"active",sectionSelector:"scrollto",navOffset:0,animDuration:550,startAt:0,easing:"linear",animateCSS:true,animateCSSRepeat:false,bottomAnimation:false,cssAnimation:"fadeInDown",jqueryEffects:false,jqueryAnim:"slideDown",selector:"a",mobile:false},r),s=e("."+i.sectionSelector);return this.each(function(){var r=e(this),o=r.css("position"),u=r.css("zIndex"),a=r.offset().top,f=r.css("top")==="auto"?0:r.css("top"),l=i.selector==="a"?r.find("li a"):r.find("li"),c=r.find("li a[href*=#]"),h=r.outerHeight(true);var p=0;l.click(function(t){var n=l.index(this),s=e(this).attr("href");++p;if(n==="0"){p=0}t.preventDefault();if(p===1&&r.offset().top>a){e("html, body").stop().animate({scrollTop:e(s).offset().top-i.navOffset-h+2+"px"})}else if(p===1||r.offset().top===a||n===0){e("html, body").stop().animate({scrollTop:e(s).offset().top-i.navOffset-2*h+2+"px"})}else if(p===2&&r.offset().top<a){e("html, body").stop().animate({scrollTop:e(s).offset().top-i.navOffset+2+"px"})}else{e("html, body").stop().animate({scrollTop:e(s).offset().top-i.navOffset-h+2+"px"})}});e(t).scroll(function(){var c=e(t),p=c.scrollTop(),d=c.outerWidth(true);l.removeClass(i.activeClass);s.each(function(){var t=e(this).offset().top-h,n=e(this).outerHeight(true)+t;if(p>=t&&p<=n){if(i.selector==="a"){r.find('li a[href~="#'+this.id+'"]').addClass(i.activeClass)}else{r.find('li a[href~="#'+this.id+'"]').parent().addClass(i.activeClass)}}});if(p>=a+i.startAt){r.css({position:"fixed",zIndex:9999}).stop().animate({top:i.navOffset},i.animDuration,i.easing);if(!i.mobile&&d<480){r.css("position",o)}if(i.jqueryEffects){if(!i.animateCSSRepeat){r.hide().stop()[i.jqueryAnim](i.animDuration,i.easing)}r.hide().stop()[i.jqueryAnim](i.animDuration,i.easing)}else if(i.animateCSS){if(i.animateCSSRepeat&&i.bottomAnimation){r.addClass(i.cssAnimation+" animated").one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(e){r.removeClass(i.cssAnimation+" animated")})}else{r.addClass(i.cssAnimation+" animated").one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd")}}else{r.stop().animate({top:i.navOffset},i.animDuration,i.easing)}}else{r.css({position:i.$selfPosition,zIndex:u})}if(c.scrollTop()+c.height()>=e(n).height()){r.removeClass(i.cssAnimation+" animated");l.removeClass(i.activeClass).last().addClass(i.activeClass);if(i.bottomAnimation){r.removeClass(i.cssAnimation+" animated");r.addClass(i.cssAnimation+" animated").one("animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",function(e){r.removeClass(i.cssAnimation+" animated")})}}if(p<=a){r.removeClass(i.cssAnimation+" animated");if(i.jqueryEffects){if(p===0){l.removeClass(i.activeClass)}if(p>=a){r.css({position:"fixed",zIndex:9999,top:i.navOffset}).hide().stop()[i.jqueryAnim](i.animDuration,i.easing)}else{r.css({position:o,zIndex:9999,top:i.navOffset})}}else{if(p===0){l.removeClass(i.activeClass)}r.css({position:o,top:f}).stop().animate({top:f},i.animDuration,i.easing)}}})})}})(jQuery,window,document)
