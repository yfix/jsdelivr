!function(t){"use strict";function r(){function t(){var t=function(t){var n,e=r.isFunction(t),i=r.slice(arguments,1);return e&&(n=t.apply(null,i)),n};return t.with=function(t){var r,n=Function.bind;return arguments[0]=null,r=n.apply(t,arguments)},t.ret=function(){var n,e=r.slice(arguments);return e.unshift(t),n=t.with.apply(null,e)},t.if=function(r,n,e){var i;return r?t(n,r):t(e,n),i},t.ifExist=function(r,n,e){var i,s=r&&r[n];return s&&(s=s.bind(r),i=t(s,e)),i},t.parallel=function(n,e){function i(t,n){var e=r.slice(n,1),i=n[0],f=e.length;i?(s=!0,a(i)):s||(++o,u[t]=f>=2?e:e[0],o===c&&a.apply(null,u))}var s,o=0,u=[null],a=t.ret(e),c=n.length;n.forEach(function(r,n){t(r,function(){i(n+1,arguments)})})},t.series=function(n){var e,i,s=r.isArray(n);s&&(e=n.shift(),i=function(){return t.series(n)},t(e,i))},t.try=function(t){var r;try{r=t()}catch(n){r=n}return r},t.tryLog=function(t){var n;return n=this.try(t),r.logError(n)},t}var r=this;this.applyConstructor=function(t,r){var n=function(){return t.apply(this,r)};return n.prototype=t.prototype,new n},this.checkExt=function(t,n){var e,i,s,o=r.getType(n),u="\\.({{ exts }})$";switch(o){case"string":u=r.render(u,{exts:n}),s=new RegExp(u),e=t.match(s);break;case"array":i=n.join("|"),e=r.checkExt(t,i)}return!!e},this.checkArgs=function(t,n){var e,i="",s=0,o=n.length,u="{{ name }} coud not be empty!";for(s=0;o>s;s++)if(!t[s])throw i=r.render(u,{name:n[s]}),e=new Error(i)},this.checkObj=function(t,n,e){var i,s,o;if(t){if(i=r.isArray(n))for(o=n.length,s=0;o>s;s++){var u=n[s];if(i=t.hasOwnProperty(u),!i){console.trace(),r.logError(u+"  not in Obj!"),r.log(t);break}}i&&r.isArray(e)&&(i=r.checkObjTrue(t,e))}return i},this.checkObjTrue=function(t,n){var e,i,s,o;if(t)for(i=r.isArray(n)?n:[n],o=i.length,s=0;o>s;s++){var u=i[s];if(e=t[u],!e){console.trace(),r.logError(u+"  not true!"),r.log(t);break}}return e},this.copyObj=function(t,r){return r||(r=t,t={}),t&&Object.keys(r).forEach(function(n){t[n]=r[n]}),t},this.extend=function(t,n){var e,i,s,o=r.isFunction(n),u=r.isArray(n),a=r.isObject(t),c=a?t:{};if(u)for(e=0,i=n.length;i>e;e++)c=r.extend(t,n[e]);else if(n){s=o?new n:n;for(e in s)c[e]=s[e]}return c},this.extendProto=function(t){var n,e=function(){};return e.prototype=r.extend({},t),n=new e},this.parseJSON=function(t){var n;return r.exec.try(function(){n=JSON.parse(t)}),n},this.stringifyJSON=function(t){var n;return r.exec.tryLog(function(){n=JSON.stringify(t,null,4)}),n},this.strCmp=function(t,n){var e,i=r.getType(n);switch(i){case"array":n.some(function(n){return e=r.strCmp(t,n)});break;case"string":e=t===n}return e},this.getStrBigFirst=function(t){var n;return n=r.isString(t)&&t.length>0?t[0].toUpperCase()+t.substring(1):t},this.isContainStr=function(t,n){var e,i,s,o,u,a=r.isString(t),c=r.getType(n);if(a)switch(c){case"array":for(i=n.length,e=0;i>e&&(s=n[e],!(o=r.isContainStr(t,s)));e++);break;case"string":u=t.indexOf(n),o=u>=0}return o},this.isContainStrAtBegin=function(t,n){var e,i,s,o,u;if(r.isString(t))if(r.isArray(n))for(i=n.length,e=0;i>e&&!(u=r.isContainStrAtBegin(t,n[e]));e++);else s=n.length,o=t.substring(0,s),u=o===n;return u},this.log=function(){var t=this.slice(arguments),e=n.console,i="["+r.getDate()+"] ";return e&&t.length&&t[0]&&(t.unshift(i),e.log.apply(e,t),t.shift()),t.join(" ")},this.logArray=function(t){var n=r.isArray(t);return n&&t.forEach(function(t){r.log(t)}),t},this.logError=function(t){var e=n.console,i="["+r.getDate()+"] ";if(e&&t){var s=t.message;s&&(i+=t.message+" "),e.error(i,t)}return t},this.rmStr=function(t,n,e){var i,s=[],o=r.isString(t),u=r.isArray(n),a=function(t,r){var n=t.replace(r,"");return n};return i=e?a:r.replaceStr,o&&n&&(u?s=n:s.push(n),s.forEach(function(r){t=i(t,r,"")})),t},this.rmStrOnce=function(t,n){var e=!0;return t=r.rmStr(t,n,e)},this.replaceStr=function(t,n,e,i){var s,o=r.isString(t);return o&&n&&(i||(n=r.escapeRegExp(n)),s=new RegExp(n,"g"),t=t.replace(s,e)),t},this.convertName=function(t){var n=t&&t.toLowerCase();return n=r.rmStr(n,["(",")"]),n=r.replaceStr(n," ","-")},this.escapeRegExp=function(t){var n=r.isString(t);return n&&(t=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),t},this.render=function(t,n){var e,i=!0,s="\\s*",o=["{{"+s,s+"}}"];return e=r.ownRender(t,n,o,i)},this.ownRender=function(t,n,e,i){var s,o,u,a,c,f=t;a=e[0],c=e[1]||a;for(o in n)s=n[o],s=r.exec(s)||s,u=a+o+c,f=r.replaceStr(f,u,s,i);return u=a+".*"+c,f=r.replaceStr(f,u,"",i)},this.isArray=function(t){return Array.isArray(t)},this.isArrayBuffer=function(t){var r=this.getType(t),n="arraybuffer"===r;return n},this.isBoolean=function(t){return r.isType(t,"boolean")},this.isFunction=function(t){return r.isType(t,"function")},this.isNumber=function(t){return r.isType(t,"number")},this.isObject=function(t){var n=r.getType(t),e="object"===n;return e},this.isString=function(t){return r.isType(t,"string")},this.isUndefined=function(t){return r.isType(t,"undefined")},this.isFile=function(t){var n,e,i="[object File]";return n=r.exec.ifExist(t,"toString"),e=n===i},this.isType=function(t,r){return typeof t===r},this.getType=function(t){var r=new RegExp("\\s([a-zA-Z]+)"),n={}.toString.call(t),e=n.match(r)[1],i=e.toLowerCase();return i},this.retFalse=function(){var t=!1;return t},this.retParam=function(t){return t},this.slice=function(t,r,n){var e=[];return t&&(e=[].slice.call(t,r,n)),e},this.forEach=function(t,r){var n=[];return t&&(n=[].forEach.call(t,r)),n},this.exec=new t,this.getExt=function(t){var n,e="",i=r.isString(t);return i&&(n=t.lastIndexOf("."),~n&&(e=t.substr(n))),e},this.getNamesFromObjArray=function(t){var n=[],e=r.isArray(t);return t&&!e&&(t=t.data),t&&t.forEach(function(t){n.push(t.name||t)}),n},this.findObjByNameInArr=function(t,n){var e,i=r.isArray(t);return i&&t.some(function(t){var i=t.name===n,s=r.isArray(t);return i?e=t:s&&t.some(function(t){i=t.name===n,i&&(e=t.data)}),i}),e},this.getTime=function(){var t,r=new Date,n=r.getHours(),e=r.getMinutes(),i=r.getSeconds();return e=10>e?"0"+e:e,i=10>i?"0"+i:i,t=n+":"+e+":"+i},this.time=function(t){var e=n.console;return r.exec.ifExist(e,"time",t),this},this.timeEnd=function(t){var e=n.console;return r.exec.ifExist(e,"timeEnd",t),this},this.getDate=function(){var t=r.getShortDate(),n=r.getTime(),e=t+" "+n;return e},this.getShortDate=function(){var t,r=new Date,n=r.getDate(),e=r.getMonth()+1,i=r.getFullYear();return 9>=e&&(e="0"+e),t=i+"."+e+"."+n}}var n=t.window?window:global;"object"==typeof module&&module.exports?module.exports=new r:n.Util=new r}(this);