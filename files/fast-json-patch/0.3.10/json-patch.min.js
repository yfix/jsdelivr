/*!
* json-patch-duplex.js 0.3.10
* (c) 2013 Joachim Wester
* MIT license
*/
var jsonpatch;!function(a){function b(a,c){switch(typeof a){case"undefined":case"boolean":case"string":case"number":return a===c;case"object":if(null===a)return null===c;if(d(a)){if(!d(c)||a.length!==c.length)return!1;for(var f=0,g=a.length;g>f;f++)if(!b(a[f],c[f]))return!1;return!0}var h=e(c),i=h.length;if(e(a).length!==i)return!1;for(var f=0;i>f;f++)if(!b(a[f],c[f]))return!1;return!0;default:return!1}}function c(a,b){for(var c,e=!1,i=0,j=b.length;j>i;){c=b[i],i++;for(var k=c.path.split("/"),l=a,m=1,n=k.length;;)if(d(l)){var o=parseInt(k[m],10);if(m++,m>=n){e=g[c.op].call(c,l,o,a);break}l=l[o]}else{var p=k[m];if(p){if(p&&-1!=p.indexOf("~")&&(p=p.replace(/~1/g,"/").replace(/~0/g,"~")),m++,m>=n){e=f[c.op].call(c,l,p,a);break}}else if(m++,m>=n){e=h[c.op].call(c,l,p,a);break}l=l[p]}}return e}var d,e=function(){return Object.keys?Object.keys:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}}(),f={add:function(a,b){return a[b]=this.value,!0},remove:function(a,b){return delete a[b],!0},replace:function(a,b){return a[b]=this.value,!0},move:function(a,b,d){var e={op:"_get",path:this.from};return c(d,[e]),c(d,[{op:"remove",path:this.from}]),c(d,[{op:"add",path:this.path,value:e.value}]),!0},copy:function(a,b,d){var e={op:"_get",path:this.from};return c(d,[e]),c(d,[{op:"add",path:this.path,value:e.value}]),!0},test:function(a,c){return b(a[c],this.value)},_get:function(a,b){this.value=a[b]}},g={add:function(a,b){return a.splice(b,0,this.value),!0},remove:function(a,b){return a.splice(b,1),!0},replace:function(a,b){return a[b]=this.value,!0},move:f.move,copy:f.copy,test:f.test,_get:f._get},h={add:function(a){for(var b in this.value)this.value.hasOwnProperty(b)&&(a[b]=this.value[b]);return!0},remove:function(a){for(var b in a)a.hasOwnProperty(b)&&f.remove.call(this,a,b);return!0},replace:function(a){return c(a,[{op:"remove",path:this.path}]),c(a,[{op:"add",path:this.path,value:this.value}]),!0},move:f.move,copy:f.copy,test:function(a){return JSON.stringify(a)===JSON.stringify(this.value)},_get:f._get};d=Array.isArray?Array.isArray:function(a){return a.push&&"number"==typeof a.length},a.apply=c}(jsonpatch||(jsonpatch={})),"undefined"!=typeof exports&&(exports.apply=jsonpatch.apply);
//# sourceMappingURL=json-patch.min.js.map