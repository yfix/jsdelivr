Object.observe||function(p,t){var x=function(a){var b=a.call(a),c=typeof c;return"object"===typeof t.alert?function(d){return b===a.call(d)||!!d&&typeof d.toString==c&&typeof d.valueOf==c&&/^\s*\bfunction\b/.test(""+d)}:function(d){return b===a.call(d)}}(p.prototype.toString),u=!!t.setImmediate,n=function(){return u?function(a){return setImmediate(a)}:function(a){return setTimeout(a,10)}}(),y=function(){return u?function(a){clearImmediate(a)}:function(a){clearTimeout(a)}}(),v=function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},w=function(a,b,c){if("object"!==typeof a)throw new TypeError("Object.observeObject called on non-object");if(!1===x(b))throw new TypeError("Object.observeObject: Expecting function");if(!0===Object.isFrozen(b))throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==c&&!Array.isArray(c))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array");},z=function(){var a=[],b=function(b,c,e){w(b,c,e);e||(e="add update delete reconfigure setPrototype preventExtensions".split(" "));
Object.getNotifier(b).addListener(c,e);-1===a.indexOf(b)?a.push(b):Object.getNotifier(b)._checkPropertyListing()};b.prototype.deliverChangeRecords=function(a){Object.getNotifier(a).deliverChangeRecords()};a.lastScanned=0;var c=function(a){return function(){for(var b=0,e=a.length,h=new Date,f=!1,b=a.lastScanned;b<e&&!f;b++)Object.getNotifier(a[b])._checkPropertyListing(),f=100<new Date-h;a.lastScanned=b<e?b:0;n(c)}}(a);n(c);return b}(),A=function(a){var b=[],c=[],d=[],g=!1,e=[],h=[],f=this;Object.defineProperty(f,
"_watching",{enumerable:!0,get:function(k){return function(){return k}}(a)});var p=function(k,a){var b=Object.getOwnPropertyDescriptor(k,a),c;(c="getNotifier"===a)||(c="undefined"===typeof b?!1:"get"in b||"set"in b);if(c||!b.enumerable)return!1;if(k instanceof Array&&v(a))return b=e.length,e[b]=a,h[b]=k[a],!0;(function(a,b){e[a]=b;h[a]=k[b];Object.defineProperty(k,b,{get:function(){return h[a]},set:function(c){var q=h[a];if(q===c?0===q&&1/q!==1/c:q===q||c===c)Object.getNotifier(k).queueUpdate(k,b,
"update",h[a]),h[a]=c}})})(e.length,a);return!0};f._checkPropertyListing=function(a){var b=f._watching,c=Object.keys(b),d=0,g=c.length,r=e.slice(0),l=!a,s,m,n;b instanceof Array&&(n=b.length);for(d=0;d<g;d++)a=c[d],s=b[a],-1===(m=e.indexOf(a))?p(b,a)&&l&&f.queueUpdate(b,a,"add",null,b[a]):(b instanceof Array&&v(a)&&h[m]!==s&&(l&&f.queueUpdate(b,a,"update",h[m],s),h[m]=s),r.splice(r.indexOf(a),1));b instanceof Array&&b.length!==n&&l&&f.queueUpdate(b,"length","update",n,b);if(l)for(g=r.length,d=0;d<
g;d++)m=e.indexOf(r[d]),f.queueUpdate(b,r[d],"delete",h[m]),e.splice(m,1),h.splice(m,1)};f.addListener=function(a,d){var f=b.indexOf(a);-1===f?(b.push(a),c.push(d)):c[f]=d};f.removeListener=function(a){a=b.indexOf(a);-1<a&&(b.splice(a,1),c.splice(a,1))};f.listeners=function(){return b};f.queueUpdate=function(a,b,c,d){this.queueUpdates([{type:c,object:a,name:b,oldValue:d}])};f.queueUpdates=function(a){for(var b=this,c=0,f=a.length||0,e,c=0;c<f;c++)e=a[c],d.push(e);g&&y(g);g=n(function(){g=!1;b.deliverChangeRecords()})};
f.deliverChangeRecords=function(){for(var a=0,f=b.length,a=0;a<f;a++)if(b[a]){var e;if(c[a]){e=[];for(var g=0,h=d.length;g<h;g++)-1!==c[a].indexOf(d[g].type)&&e.push(d[g])}else e=d;if(e.length)if(b[a]===console.log)console.log(e);else b[a](e)}d=[]};f.notify=function(b){if("object"!==typeof b||"string"!==typeof b.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");b.object=a;f.queueUpdates([b])};f._checkPropertyListing(!0)},l=[],g=[];p.getNotifier=function(a){var b=g.indexOf(a),
b=-1<b?l[b]:!1;b||(b=g.length,g[b]=a,b=l[b]=new A(a));return b};p.observe=function(a,b,c){if(!("object"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName))return new z(a,b,c)};p.unobserve=function(a,b){w(a,b);var c=g.indexOf(a),d=-1<c?l[c]:!1;d&&(d.removeListener(b),0===d.listeners().length&&(g.splice(c,1),l.splice(c,1)))}}(Object,this);