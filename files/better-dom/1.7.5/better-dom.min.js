/**
 * @file better-dom.js
 * @version 1.7.5 2014-04-14T18:47:43
 * @overview Live extension playground
 * @copyright 2013-2014 Maksim Chemerisuk
 * @license MIT
 * @see https://github.com/chemerisuk/better-dom
 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"],d=a("./element")["default"],e=a("./elements")["default"],f=/^\w+$/,g=document.createElement("body");c.create=function(a,h){if(1===a.nodeType)return d(a);if("string"!=typeof a)throw b.makeError("create",!0);if(f.test(a))a=document.createElement(a);else{g.innerHTML=c.template(a,h);for(var i=[];a=g.firstChild;g.removeChild(a))1===a.nodeType&&i.push(a);if(1!==i.length)return new e(i);a=i[0]}return new d(a)}},{"./dom":5,"./element":12,"./elements":20,"./utils":32}],2:[function(a){"use strict";var b,c,d,e,f=a("./utils")["default"],g=a("./dom")["default"],h=a("./element")["default"],i=a("./selectormatcher")["default"],j=/^(on|do)[A-Z]/,k=[],l=function(){return!0},m=function(){return!1},n=function(a,b){f.forOwn(b,function(b,c){"constructor"!==c&&(a[c]=b)})},o=function(a){k.forEach(function(b){b.accept(a)&&b(a,!0)}),f.each.call(a.children,o)},p=function(a,b){return function(d){var e;d=d||window.event,e=f.CSS3_ANIMATIONS?d.animationName===c&&d.target===a:"dataavailable"===d.srcUrn&&d.srcElement===a,e&&((d._skip=d._skip||{})[b]=!0)}},q=function(a,b){return function(c,d){!b[d]&&c.accept(a)&&c(a)}};if(f.CSS3_ANIMATIONS)b=f.WEBKIT_PREFIX?"webkitAnimationStart":"animationstart",c="DOM"+(new Date).getTime(),setTimeout(function(){return g.importStyles("@"+f.WEBKIT_PREFIX+"keyframes "+c,"from {opacity:.99} to {opacity:1}")},0),e={"animation-duration":"1ms !important","animation-name":c+" !important"},document.addEventListener(b,function(a){a.animationName===c&&k.forEach(q(a.target,a._skip||{}))},!1);else{if(b="ondataavailable",d=document.querySelector("link[rel=htc]"),!d)throw"You forgot to include <link rel='htc'> for IE < 10";e={behavior:"url("+d.href+") !important"},document.attachEvent(b,function(){var a=window.event;"dataavailable"===a.srcUrn&&k.forEach(q(a.srcElement,a._skip||{}))})}g.extend=function(a,c,d){if(2===arguments.length&&(d=c,c=!0),"boolean"==typeof c&&(c=c?l:m),!d||"object"!=typeof d||"function"!=typeof c)throw f.makeError("extend",!0);if("*"===a)n(h.prototype,d);else{var o=Object.keys(d).filter(function(a){return!!j.exec(a)}),q=d.hasOwnProperty("constructor")&&d.constructor,r=k.length,s=function(a,e){var g=h(a);f.CSS3_ANIMATIONS?a.addEventListener(b,p(a,r),!1):a.attachEvent(b,p(a,r)),(e===!0||c(g)!==!1)&&(n(g,d),q&&g.dispatch(q),e!==!0&&o.forEach(function(a){delete g[a]}))};s.accept=i(a),k.push(s),g.ready(function(){f.each.call(document.querySelectorAll(a),s),g.importStyles(a,e)})}},g.mock=function(a,b){return a?g.create(a,b).legacy(o):new h}},{"./dom":5,"./element":12,"./selectormatcher":30,"./utils":32}],3:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"];c.importScripts=function(){var a=Array.prototype.slice,c=a.call(arguments,0),d=function(){var a,e=c.shift(),f=typeof e;if("string"===f)a=document.createElement("script"),a.src=e,a.onload=d,a.async=!0,b.injectElement(a);else if("function"===f)e();else if(e)throw b.makeError("importScripts",!0)};d()}},{"./dom":5,"./utils":32}],4:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"],d=a("./styleaccessor")["default"],e=b.injectElement(document.createElement("style")),f=e.sheet||e.styleSheet,g=f.cssRules||f.rules;c.importStyles=function(a,c){if(c&&"object"==typeof c){var e={};b.forOwn(c,function(a,b){var c=d.set[b];a="number"==typeof a?a+"px":a||"",c?c(e,a):e[b]=a}),c=[],b.forOwn(e,function(a,b){c.push(b+":"+a)}),c=c.join(";")}if("string"!=typeof a||"string"!=typeof c)throw b.makeError("importStyles",!0);f.cssRules?f.insertRule(a+" {"+c+"}",g.length):a.split(",").forEach(function(a){f.addRule(a,c)})}},{"./dom":5,"./styleaccessor":31,"./utils":32}],5:[function(a,b,c){"use strict";var d=a("./node")["default"],e=new d(document);e.version="1.7.5",e.template=function(a){return a},c["default"]=window.DOM=e},{"./node":29}],6:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"],d=[],e=document.readyState,f=function(){d&&(d=d.forEach(c.dispatch,c))};(document.attachEvent?"complete"===e:"loading"!==e)?setTimeout(f,0):b.DOM2_EVENTS?(window.addEventListener("load",f,!1),document.addEventListener("DOMContentLoaded",f,!1)):(window.attachEvent("onload",f),document.attachEvent("ondataavailable",function(){"DOMContentLoaded"===window.event.srcUrn&&f()})),c.ready=function(a){if("function"!=typeof a)throw b.makeError("ready",!0);d?d.push(a):c.dispatch(a)}},{"./dom":5,"./utils":32}],7:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"],d={"(":1,")":2,"^":3,">":4,"+":4,"*":5,"`":6,"]":5,"[":6,".":7,"#":8},e=/([\w\-]+)(?:=((?:(`|')((?:\\?.)*)?\3)|[^\s]+))?/g,f=/(\$+)(?:@(-)?(\d+)?)?/g,g=/^[\s<]/,h={},i=function(a){return a.join?a.join(""):a},j=function(a,b,c,d,e){return d&&"`"!==d||(d='"'),b+"="+d+(e||c||b)+d},k=function(a,b){return function(c){var d=b?c.indexOf(">"):c.lastIndexOf("<");return c.substr(0,d)+a+c.substr(d)}},l=function(a){var b=h[a];return b||(b=h[a]="<"+a+"></"+a+">"),b},m=function(a){return function(b,c,d){return a.replace(f,function(a,b,e,f){var g=(e?d.length-c-1:c)+(f?+f:1);return(b+g).slice(-b.length).split("$").join("0")})}};"area base br col hr img input link meta param command keygen source".split(" ").forEach(function(a){h[a]="<"+a+">"}),c.template=function(a,c){if("string"!=typeof a)throw b.makeError("template",!0);c&&(a=b.format(a,c));var f,n,o,p,q,r,s=[],t=[],u="";if(a in h)return h[a];if(!a||g.exec(a))return a;for(f=0,n=a.length;n>f;++f)if(o=a[f],"."===o&&"."===s[0]&&(o=" "),p=d[o],!p||q&&q!==o)u+=o;else{if("+"===o&&"`"===s[0]&&(o=">"),"^"===o&&"^"===s[0]&&s.shift(),u&&(t.push(u),u=""),"("!==o)for(;d[s[0]]>p&&(t.push(s.shift()),"^"!==o||">"!==t[t.length-1]););")"===o?s.shift():q?q=!1:(s.unshift(o),"["===o&&(q="]"),"`"===o&&(q="`"))}for(u&&t.push(u),t=t.concat(s),s=[],f=0,n=t.length;n>f;++f){if(o=t[f],o in d){switch(u=s.shift(),r=s.shift()||[""],"string"==typeof r&&(r=[l(r)]),o){case".":u=k(' class="'+u+'"',!0);break;case"#":u=k(' id="'+u+'"',!0);break;case"[":u=k(" "+u.replace(e,j),!0);break;case"`":u=k(u);break;case"*":r=this.map.call(Array(+u),m(i(r)));break;default:u="string"==typeof u?l(u):i(u),">"===o?u=k(u):r.push(u)}o="function"==typeof u?r.map(u):r}s.unshift(o)}return t=i(s[0]),c?t:h[a]=t}},{"./dom":5,"./utils":32}],8:[function(a){"use strict";function b(a,b){var d="contains"===a?"hasClass":a+"Class";return c.docEl.classList&&(b=function(b){return this._._node.classList[a](b)}),"hasClass"===d?function(a){var c=arguments;return this._._node?1===c.length?b.call(this,a):this.every.call(c,b,this):void 0}:function(a){var d=arguments;return this.each(function(e){1===d.length?b.call(e,a):c.each.call(d,b,e)})}}var c=a("./utils")["default"],d=a("./element")["default"],e=/[\n\t\r]/g;d.prototype.hasClass=b("contains",function(a){return(" "+this._._node.className+" ").replace(e," ").indexOf(" "+a+" ")>=0}),d.prototype.addClass=b("add",function(a){this.hasClass(a)||(this._._node.className+=" "+a)}),d.prototype.removeClass=b("remove",function(a){a=(" "+this._._node.className+" ").replace(e," ").replace(" "+a+" "," "),this._._node.className=a.trim()}),d.prototype.toggleClass=b("toggle",function(a){var b=this._._node.className;this.addClass(a),b===this._._node.className&&this.removeClass(a)})},{"./element":12,"./utils":32}],9:[function(a){"use strict";var b=a("./utils")["default"],c=a("./element")["default"];c.prototype.clone=function(){var a=arguments[0];if(void 0===a&&(a=!0),"boolean"!=typeof a)throw b.makeError("clone");var d,e=this._._node;return e?b.DOM2_EVENTS?d=new c(e.cloneNode(a)):(d=DOM.create(e.outerHTML),a||d.set("innerHTML","")):d=new c,d}},{"./element":12,"./utils":32}],10:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"],d=a("./element")["default"],e={};d.prototype.get=function(a){var b,d,f=this._,g=f._node,h=e[a];if(g){if(h)return h(g,a);if("string"==typeof a){if("_"===a[0]){if(b=a.substr(1),b in f)d=f[b];else{try{d=g.getAttribute("data-"+b),"{"===d[0]&&"}"===d[d.length-1]&&(d=JSON.parse(d))}catch(i){}null!=d&&(f[b]=d)}return d}return a in g?g[a]:g.getAttribute(a)}return c.prototype.get.call(this,a)}},e.undefined=function(a){var b;if("OPTION"===a.tagName)b=a.hasAttribute("value")?"value":"text";else{if("SELECT"===a.tagName)return~a.selectedIndex?a.options[a.selectedIndex].value:"";b=a.type&&"value"in a?"value":"innerHTML"}return a[b]},e.type=function(a){return a.getAttribute("type")||a.type},b.DOM2_EVENTS||(e.textContent=function(a){return a.innerText})},{"./element":12,"./node":29,"./utils":32}],11:[function(a){"use strict";var b=a("./utils")["default"],c=a("./dom")["default"],d=a("./element")["default"],e={},f=[];d.prototype.i18n=function(a,c){var d=this,g=arguments.length;if(!g)return this.get("data-i18n");if(g>2||a&&"string"!=typeof a||c&&"object"!=typeof c)throw b.makeError("i18n");return[a].concat(e[a]).forEach(function(a,e){var g="data-i18n"+(e?"-"+f[e-1]:"");a&&d.set(g,c?b.format(a,c):a)}),this.set("")},c.importStrings=function(a,d,g){var h=typeof d,i="data-i18n-"+a,j=f.indexOf(a);if("string"===h)-1===j&&(j=f.push(a)-1,c.importStyles("["+i+"]:lang("+a+"):before","content:attr("+i+")")),e[d]||(e[d]=[]),e[d][j]=g,c.ready(function(){return c.findAll('[data-i18n="'+d+'"]').set(i,g)});else{if("object"!==h)throw b.makeError("importStrings",!0);b.forOwn(d,function(b,d){return c.importStrings(a,d,b)})}},c.importStyles("[data-i18n]:before","content:attr(data-i18n)")},{"./dom":5,"./element":12,"./utils":32}],12:[function(a,b,c){"use strict";function d(a){return a&&a.__dom__?a.__dom__:this instanceof d?void e.call(this,a):new d(a)}var e=a("./node")["default"];d.prototype=new e,d.prototype.toString=function(){var a=this._._node;return a?a.tagName.toLowerCase():""},c["default"]=d},{"./node":29}],13:[function(a){"use strict";function b(a,b,e,f){return function(){var g=arguments;return this.legacy(function(h,i,j,k){if(e||h.parentNode&&1===h.parentNode.nodeType){var l,m="";c.each.call(g,function(b){if("function"==typeof b&&(b=b(i,j,k)),"string"==typeof b)m+=DOM.template(b).trim();else{if(!(b instanceof d))throw c.makeError(a);l||(l=document.createDocumentFragment()),b.legacy(function(a){return l.appendChild(a)})}}),!b&&m&&(l=DOM.create(m)._._node),!b||l?f(h,l):m&&h.insertAdjacentHTML(b,m)}})}}var c=a("./utils")["default"],d=a("./element")["default"];d.prototype.after=b("after","afterend",!1,function(a,b){a.parentNode.insertBefore(b,a.nextSibling)}),d.prototype.before=b("before","beforebegin",!1,function(a,b){a.parentNode.insertBefore(b,a)}),d.prototype.prepend=b("prepend","afterbegin",!0,function(a,b){a.insertBefore(b,a.firstChild)}),d.prototype.append=b("append","beforeend",!0,function(a,b){a.appendChild(b)}),d.prototype.replace=b("replace","",!1,function(a,b){a.parentNode.replaceChild(b,a)}),d.prototype.remove=b("remove","",!1,function(a){a.parentNode.removeChild(a)})},{"./element":12,"./utils":32}],14:[function(a){"use strict";var b=a("./utils")["default"],c=a("./element")["default"],d=a("./selectormatcher")["default"],e={};c.prototype.matches=function(a){if(!a||"string"!=typeof a)throw b.makeError("matches");var c=e[a]||d(a),f=this._._node;return f&&!!c(f)},e[":focus"]=function(a){return a===document.activeElement},e[":hidden"]=function(a){return"true"===a.getAttribute("aria-hidden")||"none"===b.computeStyle(a).display||!b.docEl.contains(a)},e[":visible"]=function(a){return!e[":hidden"](a)}},{"./element":12,"./selectormatcher":30,"./utils":32}],15:[function(a){"use strict";var b=a("./utils")["default"],c=a("./element")["default"];c.prototype.offset=function(){var a,c=this._._node,d=b.docEl.clientTop,e=b.docEl.clientLeft,f=window.pageYOffset||b.docEl.scrollTop,g=window.pageXOffset||b.docEl.scrollLeft;return c?(a=c.getBoundingClientRect(),{top:a.top+f-d,left:a.left+g-e,right:a.right+g-e,bottom:a.bottom+f-d,width:a.right-a.left,height:a.bottom-a.top}):void 0}},{"./element":12,"./utils":32}],16:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"],d=a("./element")["default"],e={};d.prototype.set=function(a,d){var f=typeof a;return 1===arguments.length&&"object"!==f&&(d=a,a=void 0),this.legacy(function(g,h,i,j){var k,l=e[a],m=(h._._watchers||{})[a||("value"in g?"value":"innerHTML")],n=d;if(m&&(k=h.get(a)),a&&"_"===a[0])h._[a.substr(1)]=n;else{if("function"==typeof n&&(n=d(h,i,j)),l)l(g,n);else{if("string"!==f)return c.prototype.set.call(h,a);null==n?g.removeAttribute(a):a in g?g[a]=n:g.setAttribute(a,n)}(!b.DOM2_EVENTS||b.LEGACY_ANDROID)&&(g.className=g.className)}m&&k!==n&&m.forEach(function(a){h.dispatch(a,n,k)})})},d.prototype.watch=function(a,b){return this.each(function(c){var d=c._._watchers;d||c.set("__watchers",d={}),(d[a]||(d[a]=[])).push(b)})},d.prototype.unwatch=function(a,b){var c=function(a){return a!==b};return this.each(function(b){var d=b._._watchers;d&&(d[a]=(d[a]||[]).filter(c))})},e.undefined=function(a,c){var d;c=null==c?"":String(c),"SELECT"===a.tagName?b.every.call(a.options,function(a){return!(a.selected=a.value===c)})&&(a.selectedIndex=-1):d=a.type&&"value"in a?b.DOM2_EVENTS?"value":"innerText":"innerHTML",d&&(a[d]=c)},b.DOM2_EVENTS||(e.textContent=function(a,b){a.innerText=b})},{"./element":12,"./node":29,"./utils":32}],17:[function(a){"use strict";var b=a("./utils")["default"],c=a("./element")["default"],d=a("./styleaccessor")["default"];c.prototype.style=function(a,c){var e,f,g,h=arguments.length,i=this._._node,j=typeof a;return 1!==h||"string"!==j&&!Array.isArray(a)?this.legacy(function(e,f,g,i){var k=e.style,l=function(a,b){var c=d.set[b];"function"==typeof a&&(a=a(f,g,i)),null==a&&(a=""),c?c(k,a):k[b]="number"==typeof a?a+"px":a.toString()};if(1===h&&a&&"object"===j)b.forOwn(a,l);else{if(2!==h||"string"!==j)throw b.makeError("style");l(c,a)}}):(i&&(e=i.style,c=("string"===j?[a]:a).reduce(function(a,h){return f=d.get[h],c=f?f(e):e[h],g||c||(e=b.computeStyle(i),c=f?f(e):e[h],g=!0),a[h]=c,a},{})),i&&"string"===j?c[a]:c)}},{"./element":12,"./styleaccessor":31,"./utils":32}],18:[function(a){"use strict";function b(a,b,c){return function(h,i){if(h&&"string"!=typeof h)throw d.makeError(a);var j=g(h),k=c?[]:null,l=this._._node;for(l=l&&!i?l[b]:l;l;l=l[b])if(1===l.nodeType&&(!j||j(l))){if(!c)return e(l);k.push(l)}return new f(k)}}function c(a){return function(b){if(a){if(b&&"string"!=typeof b)throw d.makeError("children")}else if(b&&"number"!=typeof b)throw d.makeError("child");var c=this._._node,h=c?c.children:null;return c?(d.DOM2_EVENTS||(h=this.filter.call(h,function(a){return 1===a.nodeType})),a?new f(b?this.filter.call(h,g(b)):h):(0>b&&(b=h.length+b),e(h[b]))):new e}}var d=a("./utils")["default"],e=a("./element")["default"],f=a("./elements")["default"],g=a("./selectormatcher")["default"];e.prototype.next=b("next","nextSibling"),e.prototype.prev=b("prev","previousSibling"),e.prototype.nextAll=b("nextAll","nextSibling",!0),e.prototype.prevAll=b("prevAll","previousSibling",!0),e.prototype.parent=b("parent","parentNode"),e.prototype.child=c(!1),e.prototype.children=c(!0)},{"./element":12,"./elements":20,"./selectormatcher":30,"./utils":32}],19:[function(a){"use strict";var b=a("./utils")["default"],c=a("./element")["default"],d=a("./styleaccessor")["default"],e=function(a){var b=a.length-1;return a.lastIndexOf("ms")===b-1||a.lastIndexOf("s")!==b?parseFloat(a):1e3*parseFloat(a)},f=function(a,b){var c=b?"animation-":"transition-",f=d.get[c+"delay"](a).split(","),g=d.get[c+"duration"](a).split(","),h=b?d.get[c+"iteration-count"](a).split(","):[];return Math.max.apply(Math,g.map(function(a,b){var c=h[b]||"1";return("initial"===c?1:parseFloat(c))*e(a)+(e(f[b])||0)}))},g=["timing-function","property","duration","delay"].map(function(a){return"transition-"+a}),h=b.WEBKIT_PREFIX?"webkitTransitionEnd":"transitionend",i=!b.LEGACY_ANDROID&&b.CSS3_ANIMATIONS?["position","absolute"]:["display","none"],j=function(a,c,e){return function(){return a.legacy(function(a,j,k,l){var m=a.style,n=b.computeStyle(a),o="function"==typeof c?c(a):c,p=!b.docEl.contains(a),q=function(){"hidden"===m.visibility?m[i[0]]=i[1]:m.pointerEvents="",e&&e(j,k,l)},r=function(){var c,e,k,l;b.LEGACY_ANDROID||!b.CSS3_ANIMATIONS||p||(c=Math.max(f(n),f(n,!0))),c&&(m.visibility||(m.visibility=o?"visible":"hidden"),k=g.map(function(a,b){return d.get[a](n).split(b?", ":/, (?!\d)/)}),e=k[1].indexOf("visibility"),0>e&&(e=k[2].indexOf("0s")),0>e&&(e=k[0].length),k[0][e]="linear",k[1][e]="visibility",k[o?2:3][e]="0s",k[o?3:2][e]=c+"ms",k.forEach(function(a,b){d.set[g[b]](m,a.join(", "))}),a.addEventListener(h,function r(b){"visibility"===b.propertyName&&(b.stopPropagation(),a.removeEventListener(h,r,!1),q())},!1)),o?(l=m[i[0]],"none"!==l&&j.set("__visibility",l),m.pointerEvents="none"):m[i[0]]=j.get("__visibility")||"",m.visibility=o?"hidden":"visible",j.set("aria-hidden",String(o)),c||q()};p?r():b.raf(r)})}},k=function(a,c){return function(d,e){var f=arguments.length,g=typeof d;if(1===f&&"function"===g&&(e=d,d=0),d&&("number"!==g||0>d)||e&&"function"!=typeof e)throw b.makeError(a);return e=j(this,c,e),d?setTimeout(e,d):e(),this}};c.prototype.show=k("show",!1),c.prototype.hide=k("hide",!0),c.prototype.toggle=k("toggle",function(a){return"true"!==a.getAttribute("aria-hidden")})},{"./element":12,"./styleaccessor":31,"./utils":32}],20:[function(a,b,c){"use strict";function d(a){for(var b=0,c=a&&a.length||0;c>b;++b)this[b]=e(a[b]);this._={},this.length=c}var e=a("./element")["default"];d.prototype=new e,d.prototype.toString=Array.prototype.join,c["default"]=d},{"./element":12}],21:[function(a,b,c){"use strict";var d=a("./utils")["default"],e=a("./element")["default"],f=a("./selectormatcher")["default"],g=["target","currentTarget","defaultPrevented"],h="dataavailable",i={},j=function(a,b,c,k,l,m,n){var o=i[a],p=f(b,m),q=function(b){if(b=b||window.event,j.skip!==a&&(q._type!==h||b.srcUrn===a)){var f=b.target||b.srcElement||document,i=p?p(f):m,o="string"==typeof c?l[c]:c,r=k||g;"function"==typeof o&&i&&(n&&l.off(a,c),r=r.map(function(c){if(!d.DOM2_EVENTS)switch(c){case"which":return b.keyCode;case"button":var g=b.button;return 1&g?1:2&g?3:4&g?2:0;case"pageX":return b.pageX||b.clientX+d.docEl.scrollLeft-d.docEl.clientLeft;case"pageY":return b.clientY+d.docEl.scrollTop-d.docEl.clientTop}switch(c){case"type":return a;case"defaultPrevented":return"defaultPrevented"in b?b.defaultPrevented:b.returnValue===!1;case"target":return e(f);case"currentTarget":return e(i);case"relatedTarget":return e(b.relatedTarget||b[(b.toElement===m?"from":"to")+"Element"])}return b[c]}),b._args&&(r=b._args.concat(r)),o.apply(l,r)===!1&&(d.DOM2_EVENTS?b.preventDefault():b.returnValue=!1))}};return o&&(q=o(q,a)||q),d.DOM2_EVENTS||"on"+(q._type||a)in m||(q._type=h),q.type=b?a+" "+b:a,q.callback=c,q};["scroll","mousemove"].forEach(function(a){i[a]=function(a){var b=!0;return function(c){b&&(b=d.raf(function(){b=!a(c)}))}}}),"onfocusin"in d.docEl?d.forOwn({focus:"focusin",blur:"focusout"},function(a,b){i[b]=function(b){b._type=a}}):i.focus=i.blur=function(a){a.capturing=!0},document.createElement("input").validity&&(i.invalid=function(a){a.capturing=!0}),d.DOM2_EVENTS||["submit","change","reset"].forEach(function(a){i[a]=function(a){a._type=h}}),j.hooks=i,c["default"]=j},{"./element":12,"./selectormatcher":30,"./utils":32}],22:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"];c.prototype.get=function(a){var c=this;if("string"==typeof a)return"_"===a[0]?this._[a.substr(1)]:this._._node[a];if(Array.isArray(a))return a.reduce(function(a,b){return a[b]=c.get(b),a},{});throw b.makeError("get")},c.prototype.set=function(a,c){var d=this,e=typeof a;if("string"===e)return"_"===a[0]?this._[a.substr(1)]=c:this._._node[a]=c,this;if(a&&"object"===e)return b.forOwn(a,function(a,b){d.set(b,a)});throw b.makeError("set")}},{"./node":29,"./utils":32}],23:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"],d=a("./element")["default"];c.prototype.contains=function(a){var c=this._._node;if(a instanceof d)return c&&a.every(function(a){return c.contains(a._._node)});throw b.makeError("contains")}},{"./element":12,"./node":29,"./utils":32}],24:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"];c.prototype.data=function(a,c){var d=this,e=arguments.length,f=typeof a;if(1===e){if("string"===f)return this.get("_"+a);if(a&&"object"===f)return Array.isArray(a)?this.get(a.map(function(a){return"_"+a})):b.forOwn(a,function(a,b){d.set("_"+b,a)})}else if(2===e)return this.each(function(b){b.set("_"+a,c)});throw b.makeError("data",this)}},{"./node":29,"./utils":32}],25:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"],d=document.createElement("a"),e="onpropertychange";b.DOM2_EVENTS&&(d[e="handleEvent"]=null,d.addEventListener(e,d,!1)),c.prototype.dispatch=function(a){var c,f,g,h=Array.prototype.slice,i=h.call(arguments,1),j=typeof a,k=this,l=this._._node;if(l){if("function"===j)c=function(){f=a.apply(k,i)};else{if("string"!==j)throw b.makeError("dispatch");c=function(){f=l[a].apply(l,i)}}d[e]=c,b.DOM2_EVENTS&&(g=document.createEvent("HTMLEvents"),g.initEvent(e,!1,!1),d.dispatchEvent(g)),d[e]=null}return f}},{"./node":29,"./utils":32}],26:[function(a){var b=Array.prototype.slice,c=a("./utils")["default"],d=a("./node")["default"],e=a("./eventhandler")["default"];d.prototype.on=function(a,b,d,f){var g,h,i,j=this,k=typeof a;if("string"!==k){if("object"===k)return Array.isArray(a)?(i=c.slice.call(arguments,1),a.forEach(function(a){j.on.apply(j,[a].concat(i))})):c.forOwn(a,function(a,b){j.on(b,a)}),this;throw c.makeError("on")}return h=a.indexOf(" "),~h&&(g=a.substr(h+1),a=a.substr(0,h)),Array.isArray(d)||(f=d,d=void 0),this.legacy(function(h,i){var j=e(a,g,b,d,i,h,f);c.DOM2_EVENTS?h.addEventListener(j._type||a,j,!!j.capturing):(i===DOM&&"scroll"===a&&(h=window),h.attachEvent("on"+(j._type||a),j)),i._._handlers.push(j)})},d.prototype.once=function(){var a=b.call(arguments,0);return this.on.apply(this,a.concat(!0))},d.prototype.off=function(a,b){if("string"!=typeof a)throw c.makeError("off");return this.legacy(function(d,e){e.set("__handlers",e._._handlers.filter(function(f){return a!==f.type||b&&b!==f.callback?!0:(a=f._type||f.type,void(c.DOM2_EVENTS?d.removeEventListener(a,f,!!f.capturing):(e===DOM&&"scroll"===a&&(d=window),d.detachEvent("on"+a,f))))}))})},d.prototype.fire=function(a){var d,f=b.call(arguments,1),g=typeof a,h={};if("string"!==g)throw c.makeError("fire");return(d=e.hooks[a])&&(h=d(h)||h),g=h._type||a,this.every(function(b){var d,h,i=b._._node;return c.DOM2_EVENTS?(d=document.createEvent("HTMLEvents"),d.initEvent(g,!0,!0),d._args=f,h=i.dispatchEvent(d)):(d=document.createEventObject(),d._args=f,"on"+g in i||(g="dataavailable"),"dataavailable"===g&&(d.srcUrn=a),i.fireEvent("on"+g,d),h=d.returnValue!==!1),h&&i[a]&&("focus"!==a&&"blur"!==a||i.offsetWidth)&&(e.skip=a,i[a](),e.skip=null),h})}},{"./eventhandler":21,"./node":29,"./utils":32}],27:[function(a){"use strict";var b=a("./utils")["default"],c=a("./node")["default"],d=a("./element")["default"],e=a("./elements")["default"],f=document.getElementsByClassName?/^(?:(\w+)|\.([\w\-]+))$/:/^(?:(\w+))$/,g=/[\x20\t\r\n\f]*[+~>]/,h=/'|\\/g,i="DOM"+(new Date).getTime();c.prototype.find=function(a,c){if("string"!=typeof a)throw b.makeError("find");var j,k,l,m,n=this._._node,o=f.exec(a);if(!n)return new d;if(o)j=o[1]?n.getElementsByTagName(a):n.getElementsByClassName(o[2]),j&&!c&&(j=j[0]);else{k=!0,l=i,m=n,n!==document&&((k=n.getAttribute("id"))?l=k.replace(h,"\\$&"):n.setAttribute("id",l),l="[id='"+l+"'] ",m=g.test(a)?n.parentNode:n,a=l+a.split(",").join(","+l));try{j=m[c?"querySelectorAll":"querySelector"](a)}finally{k||n.removeAttribute("id")}}return c?new e(j):d(j)},c.prototype.findAll=function(a){return this.find(a,!0)}},{"./element":12,"./elements":20,"./node":29,"./utils":32}],28:[function(a){"use strict";var b=a("./node")["default"],c=/cb\.call\(([^)]+)\)/g,d={BEGIN:"",BODY:"",END:"return this"},e=function(a){var b,e="%BEGIN%\nfor(var i=0,n=this.length;i<n;++i){%BODY%}%END%";for(b in d)e=e.replace("%"+b+"%",a[b]||d[b]);return e=e.replace(c,function(a,b){return"(that?"+a+":cb("+b.split(",").slice(1).join()+"))"}),Function("cb","that","undefined",e)};b.prototype.each=e({BODY:"cb.call(that, this[i], i, this)"}),b.prototype.some=e({BODY:"if (cb.call(that, this[i], i, this) === true) return true",END:"return false"}),b.prototype.every=e({BEGIN:"var out = true",BODY:"out = cb.call(that, this[i], i, this) && out",END:"return out"}),b.prototype.map=e({BEGIN:"var out = Array(this && this.length || 0)",BODY:"out[i] = cb.call(that, this[i], i, this)",END:"return out"}),b.prototype.filter=e({BEGIN:"var out = []",BODY:"if (cb.call(that, this[i], i, this)) out.push(this[i])",END:"return out"}),b.prototype.reduce=e({BEGIN:"var len = arguments.length; if (len < 2) that = this[0]",BODY:"that = cb(that, this[len < 2 ? i + 1 : i], i, this)",END:"return that"}),b.prototype.reduceRight=e({BEGIN:"var j, len = arguments.length; if (len < 2) that = this[this.length - 1]",BODY:"j = n - i - 1; that = cb(that, this[len < 2 ? j - 1 : j], j, this)",END:"return that"}),b.prototype.legacy=e({BODY:"cb.call(that, this[i]._._node, this[i], i, this)"})},{"./node":29}],29:[function(a,b,c){"use strict";function d(a){a&&(this[0]=a.__dom__=this),this._={_node:a,_handlers:[]},this.length=a?1:0}c["default"]=d},{}],30:[function(a,b,c){"use strict";var d=a("./utils")["default"],e=/^(\w*)(?:#([\w\-]+))?(?:\[([\w\-\=]+)\])?(?:\.([\w\-]+))?$/;c["default"]=function(a,b){if("string"!=typeof a)return null;var c=e.exec(a);return c&&(c[1]&&(c[1]=c[1].toLowerCase()),c[3]&&(c[3]=c[3].split("=")),c[4]&&(c[4]=" "+c[4]+" ")),function(e){var f,g,h;for(c||e.webkitMatchesSelector||(g=(b||document).querySelectorAll(a),h=function(a){return a===e});e&&1===e.nodeType&&(f=c?!(c[1]&&e.nodeName.toLowerCase()!==c[1]||c[2]&&e.id!==c[2]||c[3]&&(c[3][1]?e.getAttribute(c[3][0])!==c[3][1]:!e.hasAttribute(c[3][0]))||c[4]&&!((" "+e.className+" ").indexOf(c[4])>=0)):e.webkitMatchesSelector?e.webkitMatchesSelector(a):d.some.call(g,h),!f&&b&&e!==b);e=e.parentNode);return f&&e}}},{"./utils":32}],31:[function(a,b,c){"use strict";var d=a("./utils")["default"],e={get:{},set:{}},f=/\-./g,g=/[A-Z]/g,h=["Top","Right","Bottom","Left"],i=d.computeStyle(d.docEl),j=i.length?d.slice.call(i,0):Object.keys(i).map(function(a){return a.replace(g,function(a){return"-"+a.toLowerCase()})});j.forEach(function(a){var b="-"===a[0]?a.substr(1,a.indexOf("-",1)-1):null,c=b?a.substr(b.length+2):a,d=a.replace(f,function(a){return a[1].toUpperCase()});d in i||(d=d[0].toLowerCase()+d.substr(1)),d!==a&&(e.get[c]=function(a){return a[d]},e.set[c]=function(b,c){c="number"==typeof c?c+"px":c.toString(),b["cssText"in b?d:a]=c})})," float fill-opacity font-weight line-height opacity orphans widows z-index zoom ".split(" ").forEach(function(a){var b=a.replace(f,function(a){return a[1].toUpperCase()});"float"===a&&(b="cssFloat"in i?"cssFloat":"styleFloat",e.get[a]=function(a){return a[b]}),e.set[a]=function(c,d){c["cssText"in c?b:a]=d.toString()}}),d.forOwn({font:["fontStyle","fontSize","/","lineHeight","fontFamily"],padding:h.map(function(a){return"padding"+a}),margin:h.map(function(a){return"margin"+a}),"border-width":h.map(function(a){return"border"+a+"Width"}),"border-style":h.map(function(a){return"border"+a+"Style"})},function(a,b){e.get[b]=function(b){var c=[],d=function(a,d){return c.push("/"===a?a:b[a]),!c[d]};return a.some(d)?"":c.join(" ")},e.set[b]=function(c,d){d&&"cssText"in c?c.cssText+=";"+b+":"+d:a.forEach(function(a){return c[a]="number"==typeof d?d+"px":d.toString()})}}),c["default"]=e},{"./utils":32}],32:[function(a,b,c){"use strict";var d=document,e=window,f=e.navigator.userAgent,g=d.scripts[0],h=/\{([\w\-]+)\}/g;c["default"]={makeError:function(a,b){var c=b?"DOM":"$Element";return TypeError(c+"."+a+" was called with illegal arguments. Check http://chemerisuk.github.io/better-dom to verify the function call")},computeStyle:function(a){return window.getComputedStyle?window.getComputedStyle(a):a.currentStyle},injectElement:function(a){return g.parentNode.insertBefore(a,g)},format:function(a,b){return a.replace(h,function(a,c){return c in b?b[c]:a})},raf:function(){var a=0,b=["r","webkitR","mozR","oR"].reduce(function(a,b){var c=b+"equestAnimationFrame";return a||window[c]&&c},null);return b?function(a){window[b](a)}:function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a));a=c+d,d?setTimeout(b,d):b(c+d)}}(),docEl:d.documentElement,CSS3_ANIMATIONS:e.CSSKeyframesRule||!d.attachEvent,LEGACY_ANDROID:~f.indexOf("Android")&&f.indexOf("Chrome")<0,DOM2_EVENTS:!!d.addEventListener,WEBKIT_PREFIX:e.WebKitAnimationEvent?"-webkit-":"",forOwn:function(a,b,c){return Object.keys(a).forEach(function(d){b.call(c,a[d],d)}),c},slice:Array.prototype.slice,every:Array.prototype.every,each:Array.prototype.forEach,some:Array.prototype.some}},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]);