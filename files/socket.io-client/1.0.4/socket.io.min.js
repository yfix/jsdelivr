!function(a){"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(a):"undefined"!=typeof window?window.io=a():"undefined"!=typeof global?global.io=a():"undefined"!=typeof self&&(self.io=a())}(function(){var a;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=b[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof require&&require,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b){b.exports=a("./lib/")},{"./lib/":2}],2:[function(a,b,c){function i(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var j,c=d(a),e=c.source,i=c.id;return b.forceNew||!1===b.multiplex?(g("ignoring socket cache for %s",e),j=f(e,b)):(h[i]||(g("new io instance for %s",e),h[i]=f(e,b)),j=h[i]),j.socket(c.path)}var d=a("./url"),e=a("socket.io-parser"),f=a("./manager"),g=a("debug")("socket.io-client");b.exports=c=i;var h=c.managers={};c.protocol=e.protocol,c.connect=i,c.Manager=a("./manager"),c.Socket=a("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:8,"socket.io-parser":39}],3:[function(a,b){function m(a,b){return this instanceof m?("object"==typeof a&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new h.Encoder,this.decoder=new h.Decoder,this.open(),void 0):new m(a,b)}a("./url");var e=a("engine.io-client"),f=a("./socket"),g=a("emitter"),h=a("socket.io-parser"),i=a("./on"),j=a("bind");a("object-component");var l=a("debug")("socket.io-client:manager");b.exports=m,g(m.prototype),m.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},m.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},m.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this):this._reconnectionDelay},m.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this):this._reconnectionDelayMax},m.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},m.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())},m.prototype.open=m.prototype.connect=function(a){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=e(this.uri,this.opts);var b=this.engine,c=this;this.readyState="opening";var d=i(b,"open",function(){c.onopen(),a&&a()}),f=i(b,"error",function(b){if(l("connect_error"),c.cleanup(),c.readyState="closed",c.emit("connect_error",b),a){var d=new Error("Connection error");d.data=b,a(d)}c.maybeReconnectOnOpen()});if(!1!==this._timeout){var g=this._timeout;l("connect attempt will timeout after %d",g);var h=setTimeout(function(){l("connect attempt timed out after %d",g),d.destroy(),b.close(),b.emit("error","timeout"),c.emit("connect_timeout",g)},g);this.subs.push({destroy:function(){clearTimeout(h)}})}return this.subs.push(d),this.subs.push(f),this},m.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(i(a,"data",j(this,"ondata"))),this.subs.push(i(this.decoder,"decoded",j(this,"ondecoded"))),this.subs.push(i(a,"error",j(this,"onerror"))),this.subs.push(i(a,"close",j(this,"onclose")))},m.prototype.ondata=function(a){this.decoder.add(a)},m.prototype.ondecoded=function(a){this.emit("packet",a)},m.prototype.onerror=function(a){l("error",a),this.emit("error",a)},m.prototype.socket=function(a){var b=this.nsps[a];if(!b){b=new f(this,a),this.nsps[a]=b;var c=this;b.on("connect",function(){c.connected++})}return b},m.prototype.destroy=function(){--this.connected||this.close()},m.prototype.packet=function(a){l("writing packet %j",a);var b=this;b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(a){for(var c=0;c<a.length;c++)b.engine.write(a[c]);b.encoding=!1,b.processPacketQueue()}))},m.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},m.prototype.cleanup=function(){for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},m.prototype.close=m.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},m.prototype.onclose=function(a){l("close"),this.cleanup(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},m.prototype.reconnect=function(){if(this.reconnecting)return this;var a=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)l("reconnect failed"),this.emit("reconnect_failed"),this.reconnecting=!1;else{var b=this.attempts*this.reconnectionDelay();b=Math.min(b,this.reconnectionDelayMax()),l("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){l("attempting reconnect"),a.emit("reconnect_attempt"),a.open(function(b){b?(l("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emit("reconnect_error",b.data)):(l("reconnect success"),a.onreconnect())})},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},m.prototype.onreconnect=function(){var a=this.attempts;this.attempts=0,this.reconnecting=!1,this.emit("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,bind:7,debug:8,emitter:9,"engine.io-client":10,"object-component":36,"socket.io-parser":39}],4:[function(a,b){function d(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}b.exports=d},{}],5:[function(a,b,c){function n(a,b){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.open(),this.buffer=[],this.connected=!1,this.disconnected=!0}var d=a("socket.io-parser"),e=a("emitter"),f=a("to-array"),g=a("./on"),h=a("bind"),i=a("debug")("socket.io-client:socket"),j=a("has-binary-data");a("indexof"),b.exports=c=n;var l={connect:1,disconnect:1,error:1},m=e.prototype.emit;e(n.prototype),n.prototype.open=n.prototype.connect=function(){if(this.connected)return this;var a=this.io;return a.open(),this.subs=[g(a,"open",h(this,"onopen")),g(a,"error",h(this,"onerror")),g(a,"packet",h(this,"onpacket")),g(a,"close",h(this,"onclose"))],"open"==this.io.readyState&&this.onopen(),this},n.prototype.send=function(){var a=f(arguments);return a.unshift("message"),this.emit.apply(this,a),this},n.prototype.emit=function(a){if(l.hasOwnProperty(a))return m.apply(this,arguments),this;var b=f(arguments),c=d.EVENT;j(b)&&(c=d.BINARY_EVENT);var e={type:c,data:b};return"function"==typeof b[b.length-1]&&(i("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),e.id=this.ids++),this.packet(e),this},n.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},n.prototype.onerror=function(a){this.emit("error",a)},n.prototype.onopen=function(){i("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:d.CONNECT})},n.prototype.onclose=function(a){i("close (%s)",a),this.connected=!1,this.disconnected=!0,this.emit("disconnect",a)},n.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case d.CONNECT:this.onconnect();break;case d.EVENT:this.onevent(a);break;case d.BINARY_EVENT:this.onevent(a);break;case d.ACK:this.onack(a);break;case d.BINARY_ACK:this.onack(a);break;case d.DISCONNECT:this.ondisconnect();break;case d.ERROR:this.emit("error",a.data)}},n.prototype.onevent=function(a){var b=a.data||[];i("emitting event %j",b),null!=a.id&&(i("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?m.apply(this,b):this.buffer.push(b)},n.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var e=f(arguments);i("sending ack %j",e);var g=j(e)?d.BINARY_ACK:d.ACK;b.packet({type:g,id:a,data:e})}}},n.prototype.onack=function(a){i("calling ack %s with %j",a.id,a.data);var b=this.acks[a.id];b.apply(this,a.data),delete this.acks[a.id]},n.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},n.prototype.emitBuffered=function(){for(var a=0;a<this.buffer.length;a++)m.apply(this,this.buffer[a]);this.buffer=[]},n.prototype.ondisconnect=function(){i("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},n.prototype.destroy=function(){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.io.destroy(this)},n.prototype.close=n.prototype.disconnect=function(){return this.connected?(i("performing disconnect (%s)",this.nsp),this.packet({type:d.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,bind:7,debug:8,emitter:9,"has-binary-data":31,indexof:35,"socket.io-parser":39,"to-array":42}],6:[function(a,b){function g(a,b){var c=a,b=b||d.location;return null==a&&(a=b.protocol+"//"+b.hostname),"string"==typeof a&&("/"==a.charAt(0)&&"undefined"!=typeof b&&(a=b.hostname+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof b?b.protocol+"//"+a:"https://"+a),f("parse %s",a),c=e(a)),(/(http|ws)/.test(c.protocol)&&80==c.port||/(http|ws)s/.test(c.protocol)&&443==c.port)&&delete c.port,c.path=c.path||"/",c.id=c.protocol+c.host+(c.port?":"+c.port:""),c.href=c.protocol+"://"+c.host+(c.port?":"+c.port:""),c}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("parseuri"),f=a("debug")("socket.io-client:url");b.exports=g},{debug:8,parseuri:37}],7:[function(a,b){var d=[].slice;b.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var c=[].slice.call(arguments,2);return function(){return b.apply(a,c.concat(d.call(arguments)))}}},{}],8:[function(a,b){function d(a){return d.enabled(a)?function(b){b=e(b);var c=new Date,f=c-(d[a]||c);d[a]=c,b=a+" "+b+" +"+d.humanize(f),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function e(a){return a instanceof Error?a.stack||a.message:a}b.exports=d,d.names=[],d.skips=[],d.enable=function(a){try{localStorage.debug=a}catch(b){}for(var c=(a||"").split(/[\s,]+/),e=c.length,f=0;e>f;f++)a=c[f].replace("*",".*?"),"-"===a[0]?d.skips.push(new RegExp("^"+a.substr(1)+"$")):d.names.push(new RegExp("^"+a+"$"))},d.disable=function(){d.enable("")},d.humanize=function(a){var b=1e3,c=6e4,d=60*c;return a>=d?(a/d).toFixed(1)+"h":a>=c?(a/c).toFixed(1)+"m":a>=b?(0|a/b)+"s":a+"ms"},d.enabled=function(a){for(var b=0,c=d.skips.length;c>b;b++)if(d.skips[b].test(a))return!1;for(var b=0,c=d.names.length;c>b;b++)if(d.names[b].test(a))return!0;return!1};try{window.localStorage&&d.enable(localStorage.debug)}catch(f){}},{}],9:[function(a,b){function e(a){return a?f(a):void 0}function f(a){for(var b in e.prototype)a[b]=e.prototype[b];return a}var d=a("indexof");b.exports=e,e.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks[a]=this._callbacks[a]||[]).push(b),this},e.prototype.once=function(a,b){function d(){c.off(a,d),b.apply(this,arguments)}var c=this;return this._callbacks=this._callbacks||{},b._off=d,this.on(a,d),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;var e=d(c,b._off||b);return~e&&c.splice(e,1),this},e.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},e.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},e.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{indexof:35}],10:[function(a,b){b.exports=a("./lib/")},{"./lib/":11}],11:[function(a,b){b.exports=a("./socket"),b.exports.parser=a("engine.io-parser")},{"./socket":12,"engine.io-parser":20}],12:[function(a,b){function n(a,b){if(!(this instanceof n))return new n(a,b);if(b=b||{},a&&"object"==typeof a&&(b=a,a=null),a&&(a=j(a),b.host=a.host,b.secure="https"==a.protocol||"wss"==a.protocol,b.port=a.port,a.query&&(b.query=a.query)),this.secure=null!=b.secure?b.secure:d.location&&"https:"==location.protocol,b.host){var c=b.host.split(":");b.hostname=c.shift(),c.length&&(b.port=c.pop())}this.agent=b.agent||!1,this.hostname=b.hostname||(d.location?location.hostname:"localhost"),this.port=b.port||(d.location&&location.port?location.port:this.secure?443:80),this.query=b.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==b.upgrade,this.path=(b.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!b.forceJSONP,this.forceBase64=!!b.forceBase64,this.timestampParam=b.timestampParam||"t",this.timestampRequests=b.timestampRequests,this.transports=b.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=b.policyPort||843,this.rememberUpgrade=b.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=b.onlyBinaryUpgrades}function o(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("./transports"),f=a("emitter"),g=a("debug")("engine.io-client:socket"),h=a("indexof"),i=a("engine.io-parser"),j=a("parseuri"),k=a("parsejson"),l=a("parseqs");b.exports=n,n.priorWebsocketSuccess=!1,f(n.prototype),n.protocol=i.protocol,n.Socket=n,n.Transport=a("./transport"),n.transports=a("./transports"),n.parser=a("engine.io-parser"),n.prototype.createTransport=function(a){g('creating transport "%s"',a);var b=o(this.query);b.EIO=i.protocol,b.transport=a,this.id&&(b.sid=this.id);var c=new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:b,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return c},n.prototype.open=function(){var a;a=this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0],this.readyState="opening";var a=this.createTransport(a);a.open(),this.setTransport(a)},n.prototype.setTransport=function(a){g("setting transport %s",a.name);var b=this;this.transport&&(g("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},n.prototype.probe=function(a){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;c=c||e}c||(g('probe transport "%s" opened',a),b.send([{type:"ping",data:"probe"}]),b.once("packet",function(e){if(!c)if("pong"==e.type&&"probe"==e.data)g('probe transport "%s" pong',a),d.upgrading=!0,d.emit("upgrading",b),n.priorWebsocketSuccess="websocket"==b.name,g('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){c||"closed"!=d.readyState&&"closing"!=d.readyState&&(g("changing transport and sending upgrade packet"),l(),d.setTransport(b),b.send([{type:"upgrade"}]),d.emit("upgrade",b),b=null,d.upgrading=!1,d.flush())});else{g('probe transport "%s" failed',a);var f=new Error("probe error");f.transport=b.name,d.emit("upgradeError",f)}}))}function f(){c||(c=!0,l(),b.close(),b=null)}function h(c){var e=new Error("probe error: "+c);e.transport=b.name,f(),g('probe transport "%s" failed because of error: %s',a,c),d.emit("upgradeError",e)}function i(){h("transport closed")}function j(){h("socket closed")}function k(a){b&&a.name!=b.name&&(g('"%s" works - aborting "%s"',a.name,b.name),f())}function l(){b.removeListener("open",e),b.removeListener("error",h),b.removeListener("close",i),d.removeListener("close",j),d.removeListener("upgrading",k)}g('probing transport "%s"',a);var b=this.createTransport(a,{probe:1}),c=!1,d=this;n.priorWebsocketSuccess=!1,b.once("open",e),b.once("error",h),b.once("close",i),this.once("close",j),this.once("upgrading",k),b.open()},n.prototype.onOpen=function(){if(g("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){g("starting upgrade probes");for(var a=0,b=this.upgrades.length;b>a;a++)this.probe(this.upgrades[a])}},n.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(g('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(k(a.data));break;case"pong":this.setPing();break;case"error":var b=new Error("server error");b.code=a.data,this.emit("error",b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else g('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!=b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},n.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){g("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},n.prototype.ping=function(){this.sendPacket("ping")},n.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)this.callbackBuffer[a]&&this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(g("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(a,b){return this.sendPacket("message",a,b),this},n.prototype.sendPacket=function(a,b,c){var d={type:a,data:b};this.emit("packetCreate",d),this.writeBuffer.push(d),this.callbackBuffer.push(c),this.flush()},n.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),g("socket closing - telling transport to close"),this.transport.close()),this},n.prototype.onError=function(a){g("socket error %j",a),n.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},n.prototype.onClose=function(a,b){if("opening"==this.readyState||"open"==this.readyState){g('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){c.writeBuffer=[],c.callbackBuffer=[],c.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b)}},n.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;d>c;c++)~h(this.transports,a[c])&&b.push(a[c]);return b}},{"./transport":13,"./transports":14,debug:8,emitter:9,"engine.io-parser":20,indexof:35,parsejson:28,parseqs:29,parseuri:37}],13:[function(a,b){function f(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket}var d=a("engine.io-parser"),e=a("emitter");b.exports=f,e(f.prototype),f.timestamps=0,f.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},f.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},f.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},f.prototype.send=function(a){if("open"!=this.readyState)throw new Error("Transport not open");this.write(a)},f.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},f.prototype.onData=function(a){this.onPacket(d.decodePacket(a,this.socket.binaryType))},f.prototype.onPacket=function(a){this.emit("packet",a)},f.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{emitter:9,"engine.io-parser":20}],14:[function(a,b,c){function i(a){var b,c=!1;if(d.location){var h="https:"==location.protocol,i=location.port;i||(i=h?443:80),c=a.hostname!=location.hostname||i!=a.port}return a.xdomain=c,b=new e(a),"open"in b&&!a.forceJSONP?new f(a):new g(a)}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("xmlhttprequest"),f=a("./polling-xhr"),g=a("./polling-jsonp"),h=a("./websocket");c.polling=i,c.websocket=h},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,xmlhttprequest:19}],15:[function(a,b){function k(){}function l(a){e.call(this,a),this.query=this.query||{},i||(d.___eio||(d.___eio=[]),i=d.___eio),this.index=i.length;var b=this;i.push(function(a){b.onData(a)}),this.query.j=this.index,d.document&&d.addEventListener&&d.addEventListener("beforeunload",function(){b.script&&(b.script.onerror=k)})}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("./polling"),f=a("inherits");b.exports=l;var i,g=/\n/g,h=/\\n/g;f(l,e),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),e.prototype.doClose.call(this)},l.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},l.prototype.doWrite=function(a,b){function j(){k(),b()}function k(){if(c.iframe)try{c.form.removeChild(c.iframe)}catch(a){c.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+c.iframeId+'">';i=document.createElement(b)}catch(a){i=document.createElement("iframe"),i.name=c.iframeId,i.src="javascript:0"}i.id=c.iframeId,c.form.appendChild(i),c.iframe=i}var c=this;if(!this.form){var i,d=document.createElement("form"),e=document.createElement("textarea"),f=this.iframeId="eio_iframe_"+this.index;d.className="socketio",d.style.position="absolute",d.style.top="-1000px",d.style.left="-1000px",d.target=f,d.method="POST",d.setAttribute("accept-charset","utf-8"),e.name="d",d.appendChild(e),document.body.appendChild(d),this.form=d,this.area=e}this.form.action=this.uri(),k(),a=a.replace(h,"\\\n"),this.area.value=a.replace(g,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==c.iframe.readyState&&j()}:this.iframe.onload=j}},{"./polling":17,inherits:27}],16:[function(a,b){function j(){}function k(a){if(f.call(this,a),d.location){var b="https:"==location.protocol,c=location.port;c||(c=b?443:80),this.xd=a.hostname!=d.location.hostname||c!=a.port}}function l(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.async=!1!==a.async,this.data=void 0!=a.data?a.data:null,this.agent=a.agent,this.create(a.isBinary,a.supportsBinary)}function m(){for(var a in l.requests)l.requests.hasOwnProperty(a)&&l.requests[a].abort()}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("xmlhttprequest"),f=a("./polling"),g=a("emitter"),h=a("debug")("engine.io-client:polling-xhr"),i=a("inherits");b.exports=k,b.exports.Request=l,i(k,f),k.prototype.supportsBinary=!0,k.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,new l(a)},k.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},k.prototype.doPoll=function(){h("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},g(l.prototype),l.prototype.create=function(a,b){var c=this.xhr=new e({agent:this.agent,xdomain:this.xd}),f=this;try{if(h("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async),b&&(c.responseType="arraybuffer"),"POST"==this.method)try{a?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(g){}"withCredentials"in c&&(c.withCredentials=!0),c.onreadystatechange=function(){var a;try{if(4!=c.readyState)return;if(200==c.status||1223==c.status){var d=c.getResponseHeader("Content-Type");a="application/octet-stream"===d?c.response:b?"ok":c.responseText}else setTimeout(function(){f.onError(c.status)},0)}catch(e){f.onError(e)}null!=a&&f.onData(a)},h("xhr data %s",this.data),c.send(this.data)}catch(g){return setTimeout(function(){f.onError(g)},0),void 0}d.document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},l.prototype.onError=function(a){this.emit("error",a),this.cleanup()},l.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=j;try{this.xhr.abort()}catch(a){}d.document&&delete l.requests[this.index],this.xhr=null}},l.prototype.abort=function(){this.cleanup()},d.document&&(l.requestsCount=0,l.requests={},d.attachEvent?d.attachEvent("onunload",m):d.addEventListener&&d.addEventListener("beforeunload",m))},{"./polling":17,debug:8,emitter:9,inherits:27,xmlhttprequest:19}],17:[function(a,b){function j(a){var b=a&&a.forceBase64;(!i||b)&&(this.supportsBinary=!1),d.call(this,a)}var d=a("../transport"),e=a("parseqs"),f=a("engine.io-parser"),g=a("debug")("engine.io-client:polling"),h=a("inherits");b.exports=j;var i=function(){var b=a("xmlhttprequest"),c=new b({agent:this.agent,xdomain:!1});return null!=c.responseType}();h(j,d),j.prototype.name="polling",j.prototype.doOpen=function(){this.poll()},j.prototype.pause=function(a){function d(){g("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var e=0;this.polling&&(g("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){g("pre-pause polling complete"),--e||d()})),this.writable||(g("we are currently writing - waiting to pause"),e++,this.once("drain",function(){g("pre-pause writing complete"),--e||d()}))}else d()},j.prototype.poll=function(){g("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},j.prototype.onData=function(a){var b=this;g("polling got data %s",a);var c=function(a){return"opening"==b.readyState&&b.onOpen(),"close"==a.type?(b.onClose(),!1):(b.onPacket(a),void 0)};f.decodePayload(a,this.socket.binaryType,c),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():g('ignoring poll - transport state "%s"',this.readyState))},j.prototype.doClose=function(){function b(){g("writing close packet"),a.write([{type:"close"}])}var a=this;"open"==this.readyState?(g("transport open - closing"),b()):(g("transport not open - deferring close"),this.once("open",b))},j.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")},b=this;f.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},j.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";return!1!==this.timestampRequests&&(a[this.timestampParam]=+new Date+"-"+d.timestamps++),this.supportsBinary||a.sid||(a.b64=1),a=e.encode(a),this.port&&("https"==b&&443!=this.port||"http"==b&&80!=this.port)&&(c=":"+this.port),a.length&&(a="?"+a),b+"://"+this.hostname+c+this.path+a}},{"../transport":13,debug:8,"engine.io-parser":20,inherits:27,parseqs:29,xmlhttprequest:19}],18:[function(a,b){function j(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),d.call(this,a)}var d=a("../transport"),e=a("engine.io-parser"),f=a("parseqs"),g=a("debug")("engine.io-client:websocket"),h=a("inherits"),i=a("ws");b.exports=j,h(j,d),j.prototype.name="websocket",j.prototype.supportsBinary=!0,j.prototype.doOpen=function(){if(this.check()){var b=this.uri(),c=void 0,d={agent:this.agent};this.ws=new i(b,c,d),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},j.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(j.prototype.onData=function(a){var b=this;setTimeout(function(){d.prototype.onData.call(b,a)},0)}),j.prototype.write=function(a){function f(){b.writable=!0,b.emit("drain")}var b=this;this.writable=!1;for(var c=0,d=a.length;d>c;c++)e.encodePacket(a[c],this.supportsBinary,function(a){try{b.ws.send(a)}catch(c){g("websocket closed before onclose event")}});setTimeout(f,0)},j.prototype.onClose=function(){d.prototype.onClose.call(this)},j.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},j.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";return this.port&&("wss"==b&&443!=this.port||"ws"==b&&80!=this.port)&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=+new Date),this.supportsBinary||(a.b64=1),a=f.encode(a),a.length&&(a="?"+a),b+"://"+this.hostname+c+this.path+a},j.prototype.check=function(){return!(!i||"__initialize"in i&&this.name===j.prototype.name)}},{"../transport":13,debug:8,"engine.io-parser":20,inherits:27,parseqs:29,ws:30}],19:[function(a,b){var d=a("has-cors");b.exports=function(a){var b=a.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!b||d))return new XMLHttpRequest}catch(c){}if(!b)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}},{"has-cors":33}],20:[function(a,b,c){function o(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=k[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function p(a,b,d){if(!b)return c.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,c.encodePacket(a,b,d)},e.readAsArrayBuffer(a.data)}function q(a,b,d){if(!b)return c.encodeBase64Packet(a,d);
if(j)return p(a,b,d);var e=new Uint8Array(1);e[0]=k[a.type];var f=new n([e.buffer,a.data]);return d(f)}function r(a,b,c){for(var d=new Array(a.length),e=h(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("./keys"),f=a("arraybuffer.slice"),g=a("base64-arraybuffer"),h=a("after"),i=a("utf8"),j=navigator.userAgent.match(/Android/i);c.protocol=2;var k=c.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},l=e(k),m={type:"error",data:"parser error"},n=a("blob");c.encodePacket=function(a,b,c){"function"==typeof b&&(c=b,b=!1);var e=void 0===a.data?void 0:a.data.buffer||a.data;if(d.ArrayBuffer&&e instanceof ArrayBuffer)return o(a,b,c);if(n&&e instanceof d.Blob)return q(a,b,c);var f=k[a.type];return void 0!==a.data&&(f+=i.encode(String(a.data))),c(""+f)},c.encodeBase64Packet=function(a,b){var e="b"+c.packets[a.type];if(n&&a.data instanceof n){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];b(e+a)},f.readAsDataURL(a.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(h){for(var i=new Uint8Array(a.data),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i[k];g=String.fromCharCode.apply(null,j)}return e+=d.btoa(g),b(e)},c.decodePacket=function(a,b){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return c.decodeBase64Packet(a.substr(1),b);a=i.decode(a);var d=a.charAt(0);return Number(d)==d&&l[d]?a.length>1?{type:l[d],data:a.substring(1)}:{type:l[d]}:m}var e=new Uint8Array(a),d=e[0],g=f(a,1);return n&&"blob"===b&&(g=new n([g])),{type:l[d],data:g}},c.decodeBase64Packet=function(a,b){var c=l[a.charAt(0)];if(!d.ArrayBuffer)return{type:c,data:{base64:!0,data:a.substr(1)}};var e=g.decode(a.substr(1));return"blob"===b&&n&&(e=new n([e])),{type:c,data:e}},c.encodePayload=function(a,b,d){function e(a){return a.length+":"+a}function f(a,d){c.encodePacket(a,b,function(a){d(null,e(a))})}return"function"==typeof b&&(d=b,b=null),b?n&&!j?c.encodePayloadAsBlob(a,d):c.encodePayloadAsArrayBuffer(a,d):a.length?(r(a,f,function(a,b){return d(b.join(""))}),void 0):d("0:")},c.decodePayload=function(a,b,d){if("string"!=typeof a)return c.decodePayloadAsBinary(a,b,d);"function"==typeof b&&(d=b,b=null);var e;if(""==a)return d(m,0,1);for(var g,h,f="",i=0,j=a.length;j>i;i++){var k=a.charAt(i);if(":"!=k)f+=k;else{if(""==f||f!=(g=Number(f)))return d(m,0,1);if(h=a.substr(i+1,g),f!=h.length)return d(m,0,1);if(h.length){if(e=c.decodePacket(h,b),m.type==e.type&&m.data==e.data)return d(m,0,1);var l=d(e,i+g,j);if(!1===l)return}i+=g,f=""}}return""!=f?d(m,0,1):void 0},c.encodePayloadAsArrayBuffer=function(a,b){function d(a,b){c.encodePacket(a,!0,function(a){return b(null,a)})}return a.length?(r(a,d,function(a,c){var d=c.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return c.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}e[f++]=b?0:1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),b(e.buffer)}),void 0):b(new ArrayBuffer(0))},c.encodePayloadAsBlob=function(a,b){function d(a,b){c.encodePacket(a,!0,function(a){var c=new Uint8Array(1);if(c[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,c[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,n){var i=new n([c.buffer,h.buffer,a]);b(null,i)}})}r(a,d,function(a,c){return b(new n(c))})},c.decodePayloadAsBinary=function(a,b,d){"function"==typeof b&&(d=b,b=null);for(var e=a,g=[];e.byteLength>0;){for(var h=new Uint8Array(e),i=0===h[0],j="",k=1;255!=h[k];k++)j+=h[k];e=f(e,2+j.length),j=parseInt(j);var l=f(e,0,j);if(i)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(m){var n=new Uint8Array(l);l="";for(var k=0;k<n.length;k++)l+=String.fromCharCode(n[k])}g.push(l),e=f(e,j)}var o=g.length;g.forEach(function(a,e){d(c.decodePacket(a,b),e,o)})}},{"./keys":21,after:22,"arraybuffer.slice":23,"base64-arraybuffer":24,blob:25,utf8:26}],21:[function(a,b){b.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},{}],22:[function(a,b){function d(a,b,c){function f(a,e){if(f.count<=0)throw new Error("after called too many times");--f.count,a?(d=!0,b(a),b=c):0!==f.count||d||b(null,e)}var d=!1;return c=c||e,f.count=a,0===a?b():f}function e(){}b.exports=d},{}],23:[function(a,b){b.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(0>b&&(b+=d),0>c&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;c>g;g++,h++)f[h]=e[g];return f.buffer}},{}],24:[function(a,b,c){!function(a){"use strict";c.encode=function(b){var d,c=new Uint8Array(b),e=c.length,f="";for(d=0;e>d;d+=3)f+=a[c[d]>>2],f+=a[(3&c[d])<<4|c[d+1]>>4],f+=a[(15&c[d+1])<<2|c[d+2]>>6],f+=a[63&c[d+2]];return 2===e%3?f=f.substring(0,f.length-1)+"=":1===e%3&&(f=f.substring(0,f.length-2)+"=="),f},c.decode=function(b){var e,g,h,i,j,c=.75*b.length,d=b.length,f=0;"="===b[b.length-1]&&(c--,"="===b[b.length-2]&&c--);var k=new ArrayBuffer(c),l=new Uint8Array(k);for(e=0;d>e;e+=4)g=a.indexOf(b[e]),h=a.indexOf(b[e+1]),i=a.indexOf(b[e+2]),j=a.indexOf(b[e+3]),l[f++]=g<<2|h>>4,l[f++]=(15&h)<<4|i>>2,l[f++]=(3&i)<<6|63&j;return k}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],25:[function(a,b){function h(a,b){b=b||{};for(var c=new e,d=0;d<a.length;d++)c.append(a[d]);return b.type?c.getBlob(b.type):c.getBlob()}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=d.BlobBuilder||d.WebKitBlobBuilder||d.MSBlobBuilder||d.MozBlobBuilder,f=function(){try{var a=new Blob(["hi"]);return 2==a.size}catch(b){return!1}}(),g=e&&e.prototype.append&&e.prototype.getBlob;b.exports=function(){return f?d.Blob:g?h:void 0}()},{}],26:[function(b,c,d){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};!function(b){function j(a){for(var e,f,b=[],c=0,d=a.length;d>c;)e=a.charCodeAt(c++),e>=55296&&56319>=e&&d>c?(f=a.charCodeAt(c++),56320==(64512&f)?b.push(((1023&e)<<10)+(1023&f)+65536):(b.push(e),c--)):b.push(e);return b}function k(a){for(var d,b=a.length,c=-1,e="";++c<b;)d=a[c],d>65535&&(d-=65536,e+=i(55296|1023&d>>>10),d=56320|1023&d),e+=i(d);return e}function l(a,b){return i(128|63&a>>b)}function m(a){if(0==(4294967168&a))return i(a);var b="";return 0==(4294965248&a)?b=i(192|31&a>>6):0==(4294901760&a)?(b=i(224|15&a>>12),b+=l(a,6)):0==(4292870144&a)&&(b=i(240|7&a>>18),b+=l(a,12),b+=l(a,6)),b+=i(128|63&a)}function n(a){for(var e,b=j(a),c=b.length,d=-1,f="";++d<c;)e=b[d],f+=m(e);return f}function o(){if(s>=r)throw Error("Invalid byte index");var a=255&q[s];if(s++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function p(){var a,b,c,d,e;if(s>r)throw Error("Invalid byte index");if(s==r)return!1;if(a=255&q[s],s++,0==(128&a))return a;if(192==(224&a)){var b=o();if(e=(31&a)<<6|b,e>=128)return e;throw Error("Invalid continuation byte")}if(224==(240&a)){if(b=o(),c=o(),e=(15&a)<<12|b<<6|c,e>=2048)return e;throw Error("Invalid continuation byte")}if(240==(248&a)&&(b=o(),c=o(),d=o(),e=(15&a)<<18|b<<12|c<<6|d,e>=65536&&1114111>=e))return e;throw Error("Invalid UTF-8 detected")}function t(a){q=j(a),r=q.length,s=0;for(var c,b=[];(c=p())!==!1;)b.push(c);return k(b)}var f="object"==typeof d&&d,g="object"==typeof c&&c&&c.exports==f&&c,h="object"==typeof e&&e;(h.global===h||h.window===h)&&(b=h);var q,r,s,i=String.fromCharCode,u={version:"2.0.0",encode:n,decode:t};if("function"==typeof a&&"object"==typeof a.amd&&a.amd)a(function(){return u});else if(f&&!f.nodeType)if(g)g.exports=u;else{var v={},w=v.hasOwnProperty;for(var x in u)w.call(u,x)&&(f[x]=u[x])}else b.utf8=u}(this)},{}],27:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],28:[function(a,b){var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=/^[\],:{}\s]*$/,f=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,g=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,h=/(?:^|:|,)(?:\s*\[)+/g,i=/^\s+/,j=/\s+$/;b.exports=function(a){return"string"==typeof a&&a?(a=a.replace(i,"").replace(j,""),d.JSON&&JSON.parse?JSON.parse(a):e.test(a.replace(f,"@").replace(g,"]").replace(h,""))?new Function("return "+a)():void 0):null}},{}],29:[function(a,b,c){c.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},c.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},{}],30:[function(a,b){function f(a,b){var d;return d=b?new e(a,b):new e(a)}var d=function(){return this}(),e=d.WebSocket||d.MozWebSocket;b.exports=e?f:null,e&&(f.prototype=e.prototype)},{}],31:[function(a,b){function f(a){function b(a){if(!a)return!1;if(d.Buffer&&Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer||d.Blob&&a instanceof Blob||d.File&&a instanceof File)return!0;if(e(a)){for(var c=0;c<a.length;c++)if(b(a[c]))return!0}else if(a&&"object"==typeof a){a.toJSON&&(a=a.toJSON());for(var f in a)if(b(a[f]))return!0}return!1}return b(a)}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("isarray");b.exports=f},{isarray:32}],32:[function(a,b){b.exports=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)}},{}],33:[function(a,b){var d=a("global");try{b.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(e){b.exports=!1}},{global:34}],34:[function(a,b){b.exports=function(){return this}()},{}],35:[function(a,b){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],36:[function(a,b,c){var d=Object.prototype.hasOwnProperty;c.keys=Object.keys||function(a){var b=[];for(var c in a)d.call(a,c)&&b.push(c);return b},c.values=function(a){var b=[];for(var c in a)d.call(a,c)&&b.push(a[c]);return b},c.merge=function(a,b){for(var c in b)d.call(b,c)&&(a[c]=b[c]);return a},c.length=function(a){return c.keys(a).length},c.isEmpty=function(a){return 0==c.length(a)}},{}],37:[function(a,b){var d=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];b.exports=function(a){for(var b=d.exec(a||""),c={},f=14;f--;)c[e[f]]=b[f]||"";return c}},{}],38:[function(a,b,c){function f(a){return d.Buffer&&Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("isarray");c.deconstructPacket=function(a){function f(a){if(!a)return a;if(d.Buffer&&Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer){var c={_placeholder:!0,num:b.length};return b.push(a),c}if(e(a)){for(var g=new Array(a.length),h=0;h<a.length;h++)g[h]=f(a[h]);return g}if("object"==typeof a&&!(a instanceof Date)){var g={};for(var i in a)g[i]=f(a[i]);return g}return a}var b=[],c=a.data,g=a;return g.data=f(c),g.attachments=b.length,{packet:g,buffers:b}},c.reconstructPacket=function(a,b){function d(a){if(a&&a._placeholder){var c=b[a.num];return c}if(e(a)){for(var f=0;f<a.length;f++)a[f]=d(a[f]);return a}if(a&&"object"==typeof a){for(var g in a)a[g]=d(a[g]);return a}return a}return a.data=d(a.data),a.attachments=void 0,a},c.removeBlobs=function(a,b){function c(a,i,j){if(!a)return a;if(d.Blob&&a instanceof Blob||d.File&&a instanceof File){g++;var k=new FileReader;k.onload=function(){j?j[i]=this.result:h=this.result,--g||b(h)},k.readAsArrayBuffer(a)}if(e(a))for(var l=0;l<a.length;l++)c(a[l],l,a);else if(a&&"object"==typeof a&&!f(a))for(var m in a)c(a[m],m,a)}var g=0,h=a;c(h),g||b(h)}},{isarray:40}],39:[function(a,b,c){function j(){}function k(a){var b="",d=!1;return b+=a.type,(c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)&&(b+=a.attachments,b+="-"),a.nsp&&"/"!=a.nsp&&(d=!0,b+=a.nsp),null!=a.id&&(d&&(b+=",",d=!1),b+=a.id),null!=a.data&&(d&&(b+=","),b+=f.stringify(a.data)),e("encoded %j as %s",a,b),b}function l(a,b){function c(a){var c=i.deconstructPacket(a),d=k(c.packet),e=c.buffers;e.unshift(d),b(e)}i.removeBlobs(a,c)}function m(){this.reconstructor=null}function n(a){var b={},d=0;if(b.type=Number(a.charAt(0)),null==c.types[b.type])return p();if(c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type){for(b.attachments="";"-"!=a.charAt(++d);)b.attachments+=a.charAt(d);b.attachments=Number(b.attachments)}if("/"==a.charAt(d+1))for(b.nsp="";++d;){var g=a.charAt(d);if(","==g)break;if(b.nsp+=g,d+1==a.length)break}else b.nsp="/";var h=a.charAt(d+1);if(""!=h&&Number(h)==h){for(b.id="";++d;){var g=a.charAt(d);if(null==g||Number(g)!=g){--d;break}if(b.id+=a.charAt(d),d+1==a.length)break}b.id=Number(b.id)}if(a.charAt(++d))try{b.data=f.parse(a.substr(d))}catch(i){return p()}return e("decoded %s as %j",a,b),b}function o(a){this.reconPack=a,this.buffers=[]}function p(){return{type:c.ERROR,data:"parser error"}}var d="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e=a("debug")("socket.io-parser"),f=a("json3");a("isarray");var h=a("emitter"),i=a("./binary");c.protocol=3,c.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],c.CONNECT=0,c.DISCONNECT=1,c.EVENT=2,c.ACK=3,c.ERROR=4,c.BINARY_EVENT=5,c.BINARY_ACK=6,c.Encoder=j,j.prototype.encode=function(a,b){if(e("encoding packet %j",a),c.BINARY_EVENT==a.type||c.BINARY_ACK==a.type)l(a,b);else{var d=k(a);b([d])}},c.Decoder=m,h(m.prototype),m.prototype.add=function(a){var b;if("string"==typeof a)b=n(a),c.BINARY_EVENT==b.type||c.BINARY_ACK==b.type?(this.reconstructor=new o(b),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",b)):this.emit("decoded",b);else{if(!(d.Buffer&&Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer||a.base64))throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");b=this.reconstructor.takeBinaryData(a),b&&(this.reconstructor=null,this.emit("decoded",b))}},m.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},o.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length==this.reconPack.attachments){var b=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},o.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":38,debug:8,emitter:9,isarray:40,json3:41}],40:[function(a,b){b.exports=a(32)},{}],41:[function(b,c,d){!function(b){function m(a){if(m[a]!==g)return m[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=m("json-stringify")&&m("json-parse");else{var d,e='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var f=j.stringify,h="function"==typeof f&&k;if(h){(d=function(){return 1}).toJSON=d;try{h="0"===f(0)&&"0"===f(new Number)&&'""'==f(new String)&&f(c)===g&&f(g)===g&&f()===g&&"1"===f(d)&&"[1]"==f([d])&&"[null]"==f([g])&&"null"==f(null)&&"[null,null,null]"==f([g,c,null])&&f({a:[d,!0,!1,null,"\0\b\n\f\r	"]})==e&&"1"===f(null,d)&&"[\n 1,\n 2\n]"==f([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==f(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==f(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==f(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==f(new Date(-1))}catch(i){h=!1}}b=h}if("json-parse"==a){var l=j.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){d=l(e);var n=5==d.a.length&&1===d.a[0];if(n){try{n=!l('"	"')}catch(i){}if(n)try{n=1!==l("01")}catch(i){}if(n)try{n=1!==l("1.")}catch(i){}}}}catch(i){n=!1}b=n}}return m[a]=!!b}var e,f,g,c={}.toString,h="function"==typeof a&&a.amd,i="object"==typeof JSON&&JSON,j="object"==typeof d&&d&&!d.nodeType&&d;j&&i?(j.stringify=i.stringify,j.parse=i.parse):j=b.JSON=i||{};var k=new Date(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(l){}if(!m("json")){var n="[object Function]",o="[object Date]",p="[object Number]",q="[object String]",r="[object Array]",s="[object Boolean]",t=m("bug-string-char-index");if(!k)var u=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],w=function(a,b){return v[b]+365*(a-1970)+u((a-1969+(b=+(b>1)))/4)-u((a-1901+b)/100)+u((a-1601+b)/400)};(e={}.hasOwnProperty)||(e=function(a){var d,b={};return(b.__proto__=null,b.__proto__={toString:1},b).toString!=c?e=function(a){var b=this.__proto__,c=(this.__proto__=null,a in this);return this.__proto__=b,c}:(d=b.constructor,e=function(a){var b=(this.constructor||d).prototype;return a in this&&!(a in b&&this[a]===b[a])}),b=null,e.call(this,a)});var x={"boolean":1,number:1,string:1,undefined:1},y=function(a,b){var c=typeof a[b];return"object"==c?!!a[b]:!x[c]};if(f=function(a,b){var g,h,i,d=0;(g=function(){this.valueOf=0}).prototype.valueOf=0,h=new g;for(i in h)e.call(h,i)&&d++;return g=h=null,d?f=2==d?function(a,b){var g,d={},f=c.call(a)==n;for(g in a)f&&"prototype"==g||e.call(d,g)||!(d[g]=1)||!e.call(a,g)||b(g)}:function(a,b){var f,g,d=c.call(a)==n;for(f in a)d&&"prototype"==f||!e.call(a,f)||(g="constructor"===f)||b(f);(g||e.call(a,f="constructor"))&&b(f)}:(h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],f=function(a,b){var f,g,d=c.call(a)==n,i=!d&&"function"!=typeof a.constructor&&y(a,"hasOwnProperty")?a.hasOwnProperty:e;for(f in a)d&&"prototype"==f||!i.call(a,f)||b(f);for(g=h.length;f=h[--g];i.call(a,f)&&b(f));}),f(a,b)},!m("json-stringify")){var z={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},A="000000",B=function(a,b){return(A+(b||0)).slice(-a)},C="\\u00",D=function(a){var f,b='"',c=0,d=a.length,e=d>10&&t;for(e&&(f=a.split(""));d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=z[g];break;default:if(32>g){b+=C+B(2,g.toString(16));break}b+=e?f[c]:t?a.charAt(c):a[c]}}return b+'"'},E=function(a,b,d,h,i,j,k){var l,m,n,t,v,x,y,z,A,C,F,G,H,I,J,K;try{l=b[a]}catch(L){}if("object"==typeof l&&l)if(m=c.call(l),m!=o||e.call(l,"toJSON"))"function"==typeof l.toJSON&&(m!=p&&m!=q&&m!=r||e.call(l,"toJSON"))&&(l=l.toJSON(a));else if(l>-1/0&&1/0>l){if(w){for(v=u(l/864e5),n=u(v/365.2425)+1970-1;w(n+1,0)<=v;n++);for(t=u((v-w(n,0))/30.42);w(n,t+1)<=v;t++);v=1+v-w(n,t),x=(l%864e5+864e5)%864e5,y=u(x/36e5)%24,z=u(x/6e4)%60,A=u(x/1e3)%60,C=x%1e3}else n=l.getUTCFullYear(),t=l.getUTCMonth(),v=l.getUTCDate(),y=l.getUTCHours(),z=l.getUTCMinutes(),A=l.getUTCSeconds(),C=l.getUTCMilliseconds();l=(0>=n||n>=1e4?(0>n?"-":"+")+B(6,0>n?-n:n):B(4,n))+"-"+B(2,t+1)+"-"+B(2,v)+"T"+B(2,y)+":"+B(2,z)+":"+B(2,A)+"."+B(3,C)+"Z"}else l=null;if(d&&(l=d.call(b,a,l)),null===l)return"null";if(m=c.call(l),m==s)return""+l;if(m==p)return l>-1/0&&1/0>l?""+l:"null";if(m==q)return D(""+l);if("object"==typeof l){for(I=k.length;I--;)if(k[I]===l)throw TypeError();if(k.push(l),F=[],J=j,j+=i,m==r){for(H=0,I=l.length;I>H;H++)G=E(H,l,d,h,i,j,k),F.push(G===g?"null":G);K=F.length?i?"[\n"+j+F.join(",\n"+j)+"\n"+J+"]":"["+F.join(",")+"]":"[]"}else f(h||l,function(a){var b=E(a,l,d,h,i,j,k);b!==g&&F.push(D(a)+":"+(i?" ":"")+b)}),K=F.length?i?"{\n"+j+F.join(",\n"+j)+"\n"+J+"}":"{"+F.join(",")+"}":"{}";return k.pop(),K}};j.stringify=function(a,b,d){var e,f,g,h;if("function"==typeof b||"object"==typeof b&&b)if((h=c.call(b))==n)f=b;else if(h==r){g={};for(var k,i=0,j=b.length;j>i;k=b[i++],h=c.call(k),(h==q||h==p)&&(g[k]=1));}if(d)if((h=c.call(d))==p){if((d-=d%1)>0)for(e="",d>10&&(d=10);e.length<d;e+=" ");}else h==q&&(e=d.length<=10?d:d.slice(0,10));return E("",(k={},k[""]=a,k),f,g,e,"",[])}}if(!m("json-parse")){var H,I,F=String.fromCharCode,G={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},J=function(){throw H=I=null,SyntaxError()},K=function(){for(var c,d,e,f,g,a=I,b=a.length;b>H;)switch(g=a.charCodeAt(H)){case 9:case 10:case 13:case 32:H++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=t?a.charAt(H):a[H],H++,c;case 34:for(c="@",H++;b>H;)if(g=a.charCodeAt(H),32>g)J();else if(92==g)switch(g=a.charCodeAt(++H)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=G[g],H++;break;case 117:for(d=++H,e=H+4;e>H;H++)g=a.charCodeAt(H),g>=48&&57>=g||g>=97&&102>=g||g>=65&&70>=g||J();c+=F("0x"+a.slice(d,H));break;default:J()}else{if(34==g)break;for(g=a.charCodeAt(H),d=H;g>=32&&92!=g&&34!=g;)g=a.charCodeAt(++H);c+=a.slice(d,H)}if(34==a.charCodeAt(H))return H++,c;J();default:if(d=H,45==g&&(f=!0,g=a.charCodeAt(++H)),g>=48&&57>=g){for(48==g&&(g=a.charCodeAt(H+1),g>=48&&57>=g)&&J(),f=!1;b>H&&(g=a.charCodeAt(H),g>=48&&57>=g);H++);if(46==a.charCodeAt(H)){for(e=++H;b>e&&(g=a.charCodeAt(e),g>=48&&57>=g);e++);e==H&&J(),H=e}if(g=a.charCodeAt(H),101==g||69==g){for(g=a.charCodeAt(++H),(43==g||45==g)&&H++,e=H;b>e&&(g=a.charCodeAt(e),g>=48&&57>=g);e++);e==H&&J(),H=e}return+a.slice(d,H)}if(f&&J(),"true"==a.slice(H,H+4))return H+=4,!0;if("false"==a.slice(H,H+5))return H+=5,!1;if("null"==a.slice(H,H+4))return H+=4,null;J()}return"$"},L=function(a){var b,c;if("$"==a&&J(),"string"==typeof a){if("@"==(t?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=K(),"]"!=a;c||(c=!0))c&&(","==a?(a=K(),"]"==a&&J()):J()),","==a&&J(),b.push(L(a));return b}if("{"==a){for(b={};a=K(),"}"!=a;c||(c=!0))c&&(","==a?(a=K(),"}"==a&&J()):J()),(","==a||"string"!=typeof a||"@"!=(t?a.charAt(0):a[0])||":"!=K())&&J(),b[a.slice(1)]=L(K());return b}J()}return a},M=function(a,b,c){var d=N(a,b,c);d===g?delete a[b]:a[b]=d},N=function(a,b,d){var g,e=a[b];if("object"==typeof e&&e)if(c.call(e)==r)for(g=e.length;g--;)M(e,g,d);else f(e,function(a){M(e,a,d)});return d.call(a,b,e)};j.parse=function(a,b){var d,e;return H=0,I=""+a,d=L(K()),"$"!=K()&&J(),H=I=null,b&&c.call(b)==n?N((e={},e[""]=d,e),"",b):d}}}h&&a(function(){return j})}(this)},{}],42:[function(a,b){function d(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}b.exports=d},{}]},{},[1])(1)});