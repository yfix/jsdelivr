require({config:{tpl:{variable:"data"}},shim:{bootstrap:["jquery"],marionette:{deps:["backbone"],exports:"Marionette"},highcharts:{deps:["jquery"],exports:"Highcharts"}}},["jquery","cilantro"],function(t,e){var i={url:e.config.get("url"),credentials:e.config.get("credentials")};e.ready(function(){e.sessions.open(i).then(function(){e.panels={concept:new e.ui.ConceptPanel({collection:this.data.concepts.queryable}),context:new e.ui.ContextPanel({model:this.data.contexts.session})},e.dialogs={exporter:new e.ui.ExporterDialog({exporters:this.data.exporter}),columns:new e.ui.ConceptColumnsDialog({view:this.data.views.session,concepts:this.data.concepts.viewable}),query:new e.ui.EditQueryDialog({view:this.data.views.session,context:this.data.contexts.session,collection:this.data.queries}),deleteQuery:new e.ui.DeleteQueryDialog};var i=[];t.each(e.panels,function(t,e){e.render(),i.push(e.el)}),t.each(e.dialogs,function(t,e){e.render(),i.push(e.el)});var n=t(e.config.get("main"));n.append.apply(n,i),e.workflows={query:new e.ui.QueryWorkflow({context:this.data.contexts.session,concepts:this.data.concepts.queryable}),results:new e.ui.ResultsWorkflow({view:this.data.views.session,results:this.data.preview})};var o=[{id:"query",route:"query/",view:e.workflows.query},{id:"results",route:"results/",view:e.workflows.results}];e.isSupported("2.1.0")&&(e.workflows.workspace=new e.ui.WorkspaceWorkflow({queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session,public_queries:this.data.public_queries}),o.push({id:"workspace",route:"workspace/",view:e.workflows.workspace})),e.isSupported("2.2.0")&&(e.workflows.queryload=new e.ui.QueryLoader({queries:this.data.queries,context:this.data.contexts.session,view:this.data.views.session}),o.push({id:"query-load",route:"results/:query_id/",view:e.workflows.queryload})),this.start(o)})})});